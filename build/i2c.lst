ARM GAS  /tmp/cc2lXeEE.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"i2c.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.GetXferOption,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	GetXferOption:
  25              	.LFB145:
  26              		.file 1 "Src/usb/i2c.c"
   1:Src/usb/i2c.c **** #include "usbd_hid.h"
   2:Src/usb/i2c.c **** #include "usbd_desc.h"
   3:Src/usb/i2c.c **** #include "usbd_ctlreq.h"
   4:Src/usb/i2c.c **** #include "usbd_cdc.h"
   5:Src/usb/i2c.c **** #include "usbd_cdc_io.h"
   6:Src/usb/i2c.c **** 
   7:Src/usb/i2c.c **** #define I2Cx                I2C1
   8:Src/usb/i2c.c **** 
   9:Src/usb/i2c.c **** #define CMD_ECHO            0
  10:Src/usb/i2c.c **** #define CMD_GET_FUNC        1
  11:Src/usb/i2c.c **** #define CMD_SET_DELAY       2
  12:Src/usb/i2c.c **** #define CMD_GET_STATUS      3
  13:Src/usb/i2c.c **** 
  14:Src/usb/i2c.c **** #define CMD_I2C_IO          4
  15:Src/usb/i2c.c **** #define CMD_I2C_IO_BEGIN    (1<<0)
  16:Src/usb/i2c.c **** #define CMD_I2C_IO_END      (1<<1)
  17:Src/usb/i2c.c **** 
  18:Src/usb/i2c.c **** #define FLAG_TEN            0x0010
  19:Src/usb/i2c.c **** #define FLAG_RD             0x0001
  20:Src/usb/i2c.c **** #define FLAG_NOSTART        0x4000
  21:Src/usb/i2c.c **** #define FLAG_REV_DIR_ADDR   0x2000
  22:Src/usb/i2c.c **** #define FLAG_IGNORE_NAK     0x1000
  23:Src/usb/i2c.c **** #define FLAG_NO_RD_ACK      0x0800
  24:Src/usb/i2c.c **** 
  25:Src/usb/i2c.c **** 
  26:Src/usb/i2c.c **** #define STATUS_IDLE          0
  27:Src/usb/i2c.c **** #define STATUS_ADDRESS_ACK   1
  28:Src/usb/i2c.c **** #define STATUS_ADDRESS_NAK   2
  29:Src/usb/i2c.c **** #define STATUS_BUSY          127
  30:Src/usb/i2c.c **** 
  31:Src/usb/i2c.c **** static uint8_t i2c_status = STATUS_IDLE;
  32:Src/usb/i2c.c **** static uint32_t i2c_clock_speed = 400 * 1000;
ARM GAS  /tmp/cc2lXeEE.s 			page 2


  33:Src/usb/i2c.c **** 
  34:Src/usb/i2c.c **** #define FUNC_I2C            0x00000001
  35:Src/usb/i2c.c **** #define FUNC_SMBUS_EMUL     0x0EFF0008
  36:Src/usb/i2c.c **** 
  37:Src/usb/i2c.c **** I2C_HandleTypeDef i2c_handle;
  38:Src/usb/i2c.c **** 
  39:Src/usb/i2c.c **** static const uint32_t i2c_func = (FUNC_I2C | FUNC_SMBUS_EMUL);
  40:Src/usb/i2c.c **** 
  41:Src/usb/i2c.c **** static uint32_t i2c_expected_length = 0;
  42:Src/usb/i2c.c **** static uint32_t i2c_actual_length = 0;
  43:Src/usb/i2c.c **** static uint8_t i2c_addr = 0;
  44:Src/usb/i2c.c **** static uint8_t i2c_is_begin = 0;
  45:Src/usb/i2c.c **** static uint8_t i2c_is_end = 0;
  46:Src/usb/i2c.c **** static uint8_t i2c_read = 0;
  47:Src/usb/i2c.c **** 
  48:Src/usb/i2c.c **** // Maximum length of Linux is 8192, but we support 1024 bytes to save RAM
  49:Src/usb/i2c.c **** static uint8_t i2c_buffer[1024];
  50:Src/usb/i2c.c **** 
  51:Src/usb/i2c.c **** static uint8_t run_send_data = 0;
  52:Src/usb/i2c.c **** static uint8_t run_send_status = 0;
  53:Src/usb/i2c.c **** static uint8_t run_i2c_init = 1;
  54:Src/usb/i2c.c **** 
  55:Src/usb/i2c.c **** static USBD_HandleTypeDef *usbd_handle;
  56:Src/usb/i2c.c **** 
  57:Src/usb/i2c.c **** /**
  58:Src/usb/i2c.c ****   * @brief  This function is executed in case of error occurrence.
  59:Src/usb/i2c.c ****   * @param  None
  60:Src/usb/i2c.c ****   * @retval None
  61:Src/usb/i2c.c ****   */
  62:Src/usb/i2c.c **** 
  63:Src/usb/i2c.c **** 
  64:Src/usb/i2c.c **** static uint32_t GetXferOption() {
  27              		.loc 1 64 33 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  65:Src/usb/i2c.c ****     if (i2c_is_begin && i2c_is_end)
  32              		.loc 1 65 5 view .LVU1
  33              		.loc 1 65 9 is_stmt 0 view .LVU2
  34 0000 0A4B     		ldr	r3, .L7
  35 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  36              		.loc 1 65 8 view .LVU3
  37 0004 13B1     		cbz	r3, .L2
  38              		.loc 1 65 22 discriminator 1 view .LVU4
  39 0006 0A4A     		ldr	r2, .L7+4
  40 0008 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  41 000a 32B9     		cbnz	r2, .L4
  42              	.L2:
  66:Src/usb/i2c.c ****         return I2C_FIRST_AND_LAST_FRAME;
  67:Src/usb/i2c.c ****     else if (i2c_is_begin)
  43              		.loc 1 67 10 is_stmt 1 view .LVU5
  44              		.loc 1 67 13 is_stmt 0 view .LVU6
  45 000c 43B9     		cbnz	r3, .L5
  68:Src/usb/i2c.c ****         return I2C_FIRST_FRAME;
  69:Src/usb/i2c.c ****     else if (i2c_is_end)
  46              		.loc 1 69 10 is_stmt 1 view .LVU7
ARM GAS  /tmp/cc2lXeEE.s 			page 3


  47              		.loc 1 69 14 is_stmt 0 view .LVU8
  48 000e 084B     		ldr	r3, .L7+4
  49 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  50              		.loc 1 69 13 view .LVU9
  51 0012 3BB9     		cbnz	r3, .L6
  70:Src/usb/i2c.c ****         return I2C_LAST_FRAME;
  71:Src/usb/i2c.c **** 
  72:Src/usb/i2c.c ****     return I2C_NEXT_FRAME;
  52              		.loc 1 72 12 view .LVU10
  53 0014 4FF08070 		mov	r0, #16777216
  54 0018 7047     		bx	lr
  55              	.L4:
  66:Src/usb/i2c.c ****     else if (i2c_is_begin)
  56              		.loc 1 66 16 view .LVU11
  57 001a 4FF00070 		mov	r0, #33554432
  58 001e 7047     		bx	lr
  59              	.L5:
  68:Src/usb/i2c.c ****         return I2C_FIRST_FRAME;
  60              		.loc 1 68 16 view .LVU12
  61 0020 0020     		movs	r0, #0
  62 0022 7047     		bx	lr
  63              	.L6:
  70:Src/usb/i2c.c ****         return I2C_LAST_FRAME;
  64              		.loc 1 70 16 view .LVU13
  65 0024 4FF00070 		mov	r0, #33554432
  73:Src/usb/i2c.c **** }
  66              		.loc 1 73 1 view .LVU14
  67 0028 7047     		bx	lr
  68              	.L8:
  69 002a 00BF     		.align	2
  70              	.L7:
  71 002c 00000000 		.word	.LANCHOR0
  72 0030 00000000 		.word	.LANCHOR1
  73              		.cfi_endproc
  74              	.LFE145:
  76              		.section	.text.I2C_Init,"ax",%progbits
  77              		.align	1
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  81              		.fpu fpv5-d16
  83              	I2C_Init:
  84              	.LFB148:
  74:Src/usb/i2c.c **** 
  75:Src/usb/i2c.c **** uint8_t I2C_Setup(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
  76:Src/usb/i2c.c **** {
  77:Src/usb/i2c.c ****     const uint8_t cmd = req->bRequest;
  78:Src/usb/i2c.c ****     const uint16_t value = req->wValue;
  79:Src/usb/i2c.c ****     const uint16_t index = req->wIndex;
  80:Src/usb/i2c.c ****     const uint16_t length = req->wLength;
  81:Src/usb/i2c.c **** 
  82:Src/usb/i2c.c ****     if ((cmd & CMD_I2C_IO) != 0) {
  83:Src/usb/i2c.c ****         const uint16_t flags = value;
  84:Src/usb/i2c.c **** 
  85:Src/usb/i2c.c ****         i2c_addr = (index << 1);
  86:Src/usb/i2c.c **** 
  87:Src/usb/i2c.c ****         i2c_is_begin = cmd & CMD_I2C_IO_BEGIN;
ARM GAS  /tmp/cc2lXeEE.s 			page 4


  88:Src/usb/i2c.c ****         i2c_is_end = cmd & CMD_I2C_IO_END;
  89:Src/usb/i2c.c **** 
  90:Src/usb/i2c.c ****         if (flags & FLAG_RD)
  91:Src/usb/i2c.c ****             i2c_read = 1;
  92:Src/usb/i2c.c ****         else
  93:Src/usb/i2c.c ****             i2c_read = 0;
  94:Src/usb/i2c.c **** 
  95:Src/usb/i2c.c ****         i2c_expected_length = length;
  96:Src/usb/i2c.c ****         i2c_actual_length =
  97:Src/usb/i2c.c ****             sizeof(i2c_buffer) < i2c_expected_length ? sizeof(i2c_buffer) : i2c_expected_length;
  98:Src/usb/i2c.c **** 
  99:Src/usb/i2c.c ****         usbd_handle = pdev;
 100:Src/usb/i2c.c **** 
 101:Src/usb/i2c.c ****         if (i2c_read) {
 102:Src/usb/i2c.c ****             HAL_StatusTypeDef ret = HAL_I2C_Master_Sequential_Receive_IT(
 103:Src/usb/i2c.c ****                 &i2c_handle, i2c_addr, i2c_buffer, i2c_actual_length, GetXferOption());
 104:Src/usb/i2c.c **** 
 105:Src/usb/i2c.c ****             if (ret == HAL_OK)
 106:Src/usb/i2c.c ****                 i2c_status = STATUS_BUSY;
 107:Src/usb/i2c.c ****             else
 108:Src/usb/i2c.c ****                 i2c_status = STATUS_ADDRESS_NAK;
 109:Src/usb/i2c.c ****         } else {
 110:Src/usb/i2c.c ****             if (length == 0) {
 111:Src/usb/i2c.c ****                 // 0 bytes write is used to check existence of device
 112:Src/usb/i2c.c ****                 HAL_StatusTypeDef ret = HAL_I2C_Master_Sequential_Transmit_IT(
 113:Src/usb/i2c.c ****                     &i2c_handle, i2c_addr, i2c_buffer, 0, GetXferOption());
 114:Src/usb/i2c.c **** 
 115:Src/usb/i2c.c ****                 if (ret == HAL_OK)
 116:Src/usb/i2c.c ****                     i2c_status = STATUS_BUSY;
 117:Src/usb/i2c.c ****                 else
 118:Src/usb/i2c.c ****                     i2c_status = STATUS_ADDRESS_NAK;
 119:Src/usb/i2c.c ****             } else {
 120:Src/usb/i2c.c ****                 i2c_status = STATUS_BUSY;
 121:Src/usb/i2c.c **** 
 122:Src/usb/i2c.c ****                 // Receive OUT packets and call Transmit
 123:Src/usb/i2c.c ****                 USBD_CtlPrepareRx(pdev, i2c_buffer, i2c_actual_length);
 124:Src/usb/i2c.c ****             }
 125:Src/usb/i2c.c ****         }
 126:Src/usb/i2c.c ****     }
 127:Src/usb/i2c.c ****     else
 128:Src/usb/i2c.c ****     {
 129:Src/usb/i2c.c ****         switch (cmd)
 130:Src/usb/i2c.c ****         {
 131:Src/usb/i2c.c ****             case CMD_ECHO:
 132:Src/usb/i2c.c ****                 USBD_CtlSendData(pdev, (uint8_t *)&req->wValue, 2);
 133:Src/usb/i2c.c ****                 break;
 134:Src/usb/i2c.c ****             case CMD_GET_FUNC:
 135:Src/usb/i2c.c ****                 // adapter functionality
 136:Src/usb/i2c.c ****                 USBD_CtlSendData(pdev, (uint8_t *)&i2c_func, 4);
 137:Src/usb/i2c.c ****                 break;
 138:Src/usb/i2c.c ****             case CMD_SET_DELAY:
 139:Src/usb/i2c.c ****                 {
 140:Src/usb/i2c.c ****                     /* 10us -> 100kHz */
 141:Src/usb/i2c.c ****                     const uint32_t delay_us = value;
 142:Src/usb/i2c.c ****                     i2c_clock_speed = 1000 * 1000 / delay_us;
 143:Src/usb/i2c.c ****                     // maximum clock is 400kHz
 144:Src/usb/i2c.c ****                     if (i2c_clock_speed > 400 * 1000)
ARM GAS  /tmp/cc2lXeEE.s 			page 5


 145:Src/usb/i2c.c ****                         i2c_clock_speed = 400 * 1000;
 146:Src/usb/i2c.c ****                     run_i2c_init = 1;
 147:Src/usb/i2c.c ****                 }
 148:Src/usb/i2c.c ****                 break;
 149:Src/usb/i2c.c ****             case CMD_GET_STATUS:
 150:Src/usb/i2c.c ****                 run_send_status = 1;
 151:Src/usb/i2c.c ****                 break;
 152:Src/usb/i2c.c ****         }
 153:Src/usb/i2c.c **** 
 154:Src/usb/i2c.c ****     }
 155:Src/usb/i2c.c ****     return USBD_OK;
 156:Src/usb/i2c.c **** }
 157:Src/usb/i2c.c **** 
 158:Src/usb/i2c.c **** uint8_t I2C_EP0_RxReady(USBD_HandleTypeDef *pdev)
 159:Src/usb/i2c.c **** {
 160:Src/usb/i2c.c ****     (void)pdev;
 161:Src/usb/i2c.c ****     if (i2c_read == 0 && i2c_actual_length > 0) {
 162:Src/usb/i2c.c ****         HAL_I2C_Master_Sequential_Transmit_IT(
 163:Src/usb/i2c.c ****             &i2c_handle, i2c_addr, i2c_buffer, i2c_actual_length, GetXferOption());
 164:Src/usb/i2c.c ****     }
 165:Src/usb/i2c.c ****     return USBD_OK;
 166:Src/usb/i2c.c **** }
 167:Src/usb/i2c.c **** 
 168:Src/usb/i2c.c **** //#define I2C_DUTYCYCLE    I2C_DUTYCYCLE_2
 169:Src/usb/i2c.c **** #define I2C_ADDRESS      0x3C
 170:Src/usb/i2c.c **** 
 171:Src/usb/i2c.c **** static void I2C_Init() {
  85              		.loc 1 171 24 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		@ link register save eliminated.
 172:Src/usb/i2c.c ****     i2c_handle.Instance             = I2Cx;
  90              		.loc 1 172 5 view .LVU16
  91              		.loc 1 172 37 is_stmt 0 view .LVU17
  92 0000 064B     		ldr	r3, .L10
  93 0002 074A     		ldr	r2, .L10+4
  94 0004 1A60     		str	r2, [r3]
 173:Src/usb/i2c.c **** //    i2c_handle.Init.ClockSpeed      = i2c_clock_speed;
 174:Src/usb/i2c.c **** //    i2c_handle.Init.DutyCycle       = I2C_DUTYCYCLE;
 175:Src/usb/i2c.c ****     i2c_handle.Init.OwnAddress1     = I2C_ADDRESS;
  95              		.loc 1 175 5 is_stmt 1 view .LVU18
  96              		.loc 1 175 37 is_stmt 0 view .LVU19
  97 0006 3C22     		movs	r2, #60
  98 0008 9A60     		str	r2, [r3, #8]
 176:Src/usb/i2c.c ****     i2c_handle.Init.AddressingMode  = I2C_ADDRESSINGMODE_7BIT;
  99              		.loc 1 176 5 is_stmt 1 view .LVU20
 100              		.loc 1 176 37 is_stmt 0 view .LVU21
 101 000a 0122     		movs	r2, #1
 102 000c DA60     		str	r2, [r3, #12]
 177:Src/usb/i2c.c ****     i2c_handle.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 103              		.loc 1 177 5 is_stmt 1 view .LVU22
 104              		.loc 1 177 37 is_stmt 0 view .LVU23
 105 000e 0022     		movs	r2, #0
 106 0010 1A61     		str	r2, [r3, #16]
 178:Src/usb/i2c.c ****     i2c_handle.Init.OwnAddress2     = 0xFE;
 107              		.loc 1 178 5 is_stmt 1 view .LVU24
ARM GAS  /tmp/cc2lXeEE.s 			page 6


 108              		.loc 1 178 37 is_stmt 0 view .LVU25
 109 0012 FE21     		movs	r1, #254
 110 0014 5961     		str	r1, [r3, #20]
 179:Src/usb/i2c.c ****     i2c_handle.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 111              		.loc 1 179 5 is_stmt 1 view .LVU26
 112              		.loc 1 179 37 is_stmt 0 view .LVU27
 113 0016 DA61     		str	r2, [r3, #28]
 180:Src/usb/i2c.c ****     i2c_handle.Init.NoStretchMode   = I2C_NOSTRETCH_DISABLE;
 114              		.loc 1 180 5 is_stmt 1 view .LVU28
 115              		.loc 1 180 37 is_stmt 0 view .LVU29
 116 0018 1A62     		str	r2, [r3, #32]
 181:Src/usb/i2c.c **** 
 182:Src/usb/i2c.c **** }
 117              		.loc 1 182 1 view .LVU30
 118 001a 7047     		bx	lr
 119              	.L11:
 120              		.align	2
 121              	.L10:
 122 001c 00000000 		.word	i2c_handle
 123 0020 00540040 		.word	1073763328
 124              		.cfi_endproc
 125              	.LFE148:
 127              		.section	.text.I2C_DeInit,"ax",%progbits
 128              		.align	1
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv5-d16
 134              	I2C_DeInit:
 135              	.LFB149:
 183:Src/usb/i2c.c **** 
 184:Src/usb/i2c.c **** static void I2C_DeInit() {
 136              		.loc 1 184 26 is_stmt 1 view -0
 137              		.cfi_startproc
 138              		@ args = 0, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140              		@ link register save eliminated.
 185:Src/usb/i2c.c ****     i2c_handle.Instance             = I2Cx;
 141              		.loc 1 185 5 view .LVU32
 142              		.loc 1 185 37 is_stmt 0 view .LVU33
 143 0000 014B     		ldr	r3, .L13
 144 0002 024A     		ldr	r2, .L13+4
 145 0004 1A60     		str	r2, [r3]
 186:Src/usb/i2c.c **** 
 187:Src/usb/i2c.c **** }
 146              		.loc 1 187 1 view .LVU34
 147 0006 7047     		bx	lr
 148              	.L14:
 149              		.align	2
 150              	.L13:
 151 0008 00000000 		.word	i2c_handle
 152 000c 00540040 		.word	1073763328
 153              		.cfi_endproc
 154              	.LFE149:
 156              		.section	.text.I2C_Setup,"ax",%progbits
 157              		.align	1
 158              		.global	I2C_Setup
ARM GAS  /tmp/cc2lXeEE.s 			page 7


 159              		.syntax unified
 160              		.thumb
 161              		.thumb_func
 162              		.fpu fpv5-d16
 164              	I2C_Setup:
 165              	.LVL0:
 166              	.LFB146:
  76:Src/usb/i2c.c ****     const uint8_t cmd = req->bRequest;
 167              		.loc 1 76 1 is_stmt 1 view -0
 168              		.cfi_startproc
 169              		@ args = 0, pretend = 0, frame = 0
 170              		@ frame_needed = 0, uses_anonymous_args = 0
  76:Src/usb/i2c.c ****     const uint8_t cmd = req->bRequest;
 171              		.loc 1 76 1 is_stmt 0 view .LVU36
 172 0000 70B5     		push	{r4, r5, r6, lr}
 173              	.LCFI0:
 174              		.cfi_def_cfa_offset 16
 175              		.cfi_offset 4, -16
 176              		.cfi_offset 5, -12
 177              		.cfi_offset 6, -8
 178              		.cfi_offset 14, -4
 179 0002 82B0     		sub	sp, sp, #8
 180              	.LCFI1:
 181              		.cfi_def_cfa_offset 24
  77:Src/usb/i2c.c ****     const uint16_t value = req->wValue;
 182              		.loc 1 77 5 is_stmt 1 view .LVU37
  77:Src/usb/i2c.c ****     const uint16_t value = req->wValue;
 183              		.loc 1 77 19 is_stmt 0 view .LVU38
 184 0004 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 185              	.LVL1:
  78:Src/usb/i2c.c ****     const uint16_t index = req->wIndex;
 186              		.loc 1 78 5 is_stmt 1 view .LVU39
  78:Src/usb/i2c.c ****     const uint16_t index = req->wIndex;
 187              		.loc 1 78 20 is_stmt 0 view .LVU40
 188 0006 4E88     		ldrh	r6, [r1, #2]
 189              	.LVL2:
  79:Src/usb/i2c.c ****     const uint16_t length = req->wLength;
 190              		.loc 1 79 5 is_stmt 1 view .LVU41
  79:Src/usb/i2c.c ****     const uint16_t length = req->wLength;
 191              		.loc 1 79 20 is_stmt 0 view .LVU42
 192 0008 8A88     		ldrh	r2, [r1, #4]
 193              	.LVL3:
  80:Src/usb/i2c.c **** 
 194              		.loc 1 80 5 is_stmt 1 view .LVU43
  80:Src/usb/i2c.c **** 
 195              		.loc 1 80 20 is_stmt 0 view .LVU44
 196 000a CD88     		ldrh	r5, [r1, #6]
 197              	.LVL4:
  82:Src/usb/i2c.c ****         const uint16_t flags = value;
 198              		.loc 1 82 5 is_stmt 1 view .LVU45
  82:Src/usb/i2c.c ****         const uint16_t flags = value;
 199              		.loc 1 82 8 is_stmt 0 view .LVU46
 200 000c 13F0040F 		tst	r3, #4
 201 0010 51D0     		beq	.L16
 202              	.LBB2:
  83:Src/usb/i2c.c **** 
 203              		.loc 1 83 9 is_stmt 1 view .LVU47
ARM GAS  /tmp/cc2lXeEE.s 			page 8


 204              	.LVL5:
  85:Src/usb/i2c.c **** 
 205              		.loc 1 85 9 view .LVU48
  85:Src/usb/i2c.c **** 
 206              		.loc 1 85 27 is_stmt 0 view .LVU49
 207 0012 5200     		lsls	r2, r2, #1
 208              	.LVL6:
  85:Src/usb/i2c.c **** 
 209              		.loc 1 85 27 view .LVU50
 210 0014 D4B2     		uxtb	r4, r2
  85:Src/usb/i2c.c **** 
 211              		.loc 1 85 18 view .LVU51
 212 0016 344A     		ldr	r2, .L31
 213 0018 1470     		strb	r4, [r2]
  87:Src/usb/i2c.c ****         i2c_is_end = cmd & CMD_I2C_IO_END;
 214              		.loc 1 87 9 is_stmt 1 view .LVU52
  87:Src/usb/i2c.c ****         i2c_is_end = cmd & CMD_I2C_IO_END;
 215              		.loc 1 87 28 is_stmt 0 view .LVU53
 216 001a 03F00101 		and	r1, r3, #1
 217              	.LVL7:
  87:Src/usb/i2c.c ****         i2c_is_end = cmd & CMD_I2C_IO_END;
 218              		.loc 1 87 22 view .LVU54
 219 001e 334A     		ldr	r2, .L31+4
 220 0020 1170     		strb	r1, [r2]
  88:Src/usb/i2c.c **** 
 221              		.loc 1 88 9 is_stmt 1 view .LVU55
  88:Src/usb/i2c.c **** 
 222              		.loc 1 88 26 is_stmt 0 view .LVU56
 223 0022 03F00203 		and	r3, r3, #2
 224              	.LVL8:
  88:Src/usb/i2c.c **** 
 225              		.loc 1 88 20 view .LVU57
 226 0026 324A     		ldr	r2, .L31+8
 227 0028 1370     		strb	r3, [r2]
  90:Src/usb/i2c.c ****             i2c_read = 1;
 228              		.loc 1 90 9 is_stmt 1 view .LVU58
  90:Src/usb/i2c.c ****             i2c_read = 1;
 229              		.loc 1 90 12 is_stmt 0 view .LVU59
 230 002a 16F0010F 		tst	r6, #1
 231 002e 1ED0     		beq	.L17
  91:Src/usb/i2c.c ****         else
 232              		.loc 1 91 13 is_stmt 1 view .LVU60
  91:Src/usb/i2c.c ****         else
 233              		.loc 1 91 22 is_stmt 0 view .LVU61
 234 0030 304B     		ldr	r3, .L31+12
 235 0032 0122     		movs	r2, #1
 236 0034 1A70     		strb	r2, [r3]
 237              	.L18:
  95:Src/usb/i2c.c ****         i2c_actual_length =
 238              		.loc 1 95 9 is_stmt 1 view .LVU62
  96:Src/usb/i2c.c ****             sizeof(i2c_buffer) < i2c_expected_length ? sizeof(i2c_buffer) : i2c_expected_length;
 239              		.loc 1 96 9 view .LVU63
  97:Src/usb/i2c.c **** 
 240              		.loc 1 97 75 is_stmt 0 view .LVU64
 241 0036 2E46     		mov	r6, r5
 242              	.LVL9:
  97:Src/usb/i2c.c **** 
ARM GAS  /tmp/cc2lXeEE.s 			page 9


 243              		.loc 1 97 75 view .LVU65
 244 0038 B5F5806F 		cmp	r5, #1024
 245 003c 28BF     		it	cs
 246 003e 4FF48066 		movcs	r6, #1024
  96:Src/usb/i2c.c ****             sizeof(i2c_buffer) < i2c_expected_length ? sizeof(i2c_buffer) : i2c_expected_length;
 247              		.loc 1 96 27 view .LVU66
 248 0042 2D4B     		ldr	r3, .L31+16
 249 0044 1E60     		str	r6, [r3]
  99:Src/usb/i2c.c **** 
 250              		.loc 1 99 9 is_stmt 1 view .LVU67
  99:Src/usb/i2c.c **** 
 251              		.loc 1 99 21 is_stmt 0 view .LVU68
 252 0046 2D4B     		ldr	r3, .L31+20
 253 0048 1860     		str	r0, [r3]
 101:Src/usb/i2c.c ****             HAL_StatusTypeDef ret = HAL_I2C_Master_Sequential_Receive_IT(
 254              		.loc 1 101 9 is_stmt 1 view .LVU69
 101:Src/usb/i2c.c ****             HAL_StatusTypeDef ret = HAL_I2C_Master_Sequential_Receive_IT(
 255              		.loc 1 101 13 is_stmt 0 view .LVU70
 256 004a 2A4B     		ldr	r3, .L31+12
 257 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 101:Src/usb/i2c.c ****             HAL_StatusTypeDef ret = HAL_I2C_Master_Sequential_Receive_IT(
 258              		.loc 1 101 12 view .LVU71
 259 004e 93B9     		cbnz	r3, .L30
 110:Src/usb/i2c.c ****                 // 0 bytes write is used to check existence of device
 260              		.loc 1 110 13 is_stmt 1 view .LVU72
 110:Src/usb/i2c.c ****                 // 0 bytes write is used to check existence of device
 261              		.loc 1 110 16 is_stmt 0 view .LVU73
 262 0050 3DBB     		cbnz	r5, .L22
 263              	.LBB3:
 112:Src/usb/i2c.c ****                     &i2c_handle, i2c_addr, i2c_buffer, 0, GetXferOption());
 264              		.loc 1 112 17 is_stmt 1 view .LVU74
 112:Src/usb/i2c.c ****                     &i2c_handle, i2c_addr, i2c_buffer, 0, GetXferOption());
 265              		.loc 1 112 41 is_stmt 0 view .LVU75
 266 0052 FFF7FEFF 		bl	GetXferOption
 267              	.LVL10:
 112:Src/usb/i2c.c ****                     &i2c_handle, i2c_addr, i2c_buffer, 0, GetXferOption());
 268              		.loc 1 112 41 view .LVU76
 269 0056 0090     		str	r0, [sp]
 270 0058 0023     		movs	r3, #0
 271 005a 294A     		ldr	r2, .L31+24
 272 005c 2146     		mov	r1, r4
 273 005e 2948     		ldr	r0, .L31+28
 274 0060 FFF7FEFF 		bl	HAL_I2C_Master_Seq_Transmit_IT
 275              	.LVL11:
 115:Src/usb/i2c.c ****                     i2c_status = STATUS_BUSY;
 276              		.loc 1 115 17 is_stmt 1 view .LVU77
 115:Src/usb/i2c.c ****                     i2c_status = STATUS_BUSY;
 277              		.loc 1 115 20 is_stmt 0 view .LVU78
 278 0064 C8B9     		cbnz	r0, .L23
 116:Src/usb/i2c.c ****                 else
 279              		.loc 1 116 21 is_stmt 1 view .LVU79
 116:Src/usb/i2c.c ****                 else
 280              		.loc 1 116 32 is_stmt 0 view .LVU80
 281 0066 284B     		ldr	r3, .L31+32
 282 0068 7F22     		movs	r2, #127
 283 006a 1A70     		strb	r2, [r3]
 284 006c 20E0     		b	.L21
ARM GAS  /tmp/cc2lXeEE.s 			page 10


 285              	.LVL12:
 286              	.L17:
 116:Src/usb/i2c.c ****                 else
 287              		.loc 1 116 32 view .LVU81
 288              	.LBE3:
  93:Src/usb/i2c.c **** 
 289              		.loc 1 93 13 is_stmt 1 view .LVU82
  93:Src/usb/i2c.c **** 
 290              		.loc 1 93 22 is_stmt 0 view .LVU83
 291 006e 214B     		ldr	r3, .L31+12
 292 0070 0022     		movs	r2, #0
 293 0072 1A70     		strb	r2, [r3]
 294 0074 DFE7     		b	.L18
 295              	.LVL13:
 296              	.L30:
 297              	.LBB4:
 102:Src/usb/i2c.c ****                 &i2c_handle, i2c_addr, i2c_buffer, i2c_actual_length, GetXferOption());
 298              		.loc 1 102 13 is_stmt 1 view .LVU84
 102:Src/usb/i2c.c ****                 &i2c_handle, i2c_addr, i2c_buffer, i2c_actual_length, GetXferOption());
 299              		.loc 1 102 37 is_stmt 0 view .LVU85
 300 0076 FFF7FEFF 		bl	GetXferOption
 301              	.LVL14:
 102:Src/usb/i2c.c ****                 &i2c_handle, i2c_addr, i2c_buffer, i2c_actual_length, GetXferOption());
 302              		.loc 1 102 37 view .LVU86
 303 007a 0090     		str	r0, [sp]
 304 007c 3346     		mov	r3, r6
 305 007e 204A     		ldr	r2, .L31+24
 306 0080 2146     		mov	r1, r4
 307 0082 2048     		ldr	r0, .L31+28
 308 0084 FFF7FEFF 		bl	HAL_I2C_Master_Seq_Receive_IT
 309              	.LVL15:
 105:Src/usb/i2c.c ****                 i2c_status = STATUS_BUSY;
 310              		.loc 1 105 13 is_stmt 1 view .LVU87
 105:Src/usb/i2c.c ****                 i2c_status = STATUS_BUSY;
 311              		.loc 1 105 16 is_stmt 0 view .LVU88
 312 0088 18B9     		cbnz	r0, .L20
 106:Src/usb/i2c.c ****             else
 313              		.loc 1 106 17 is_stmt 1 view .LVU89
 106:Src/usb/i2c.c ****             else
 314              		.loc 1 106 28 is_stmt 0 view .LVU90
 315 008a 1F4B     		ldr	r3, .L31+32
 316 008c 7F22     		movs	r2, #127
 317 008e 1A70     		strb	r2, [r3]
 318 0090 0EE0     		b	.L21
 319              	.L20:
 108:Src/usb/i2c.c ****         } else {
 320              		.loc 1 108 17 is_stmt 1 view .LVU91
 108:Src/usb/i2c.c ****         } else {
 321              		.loc 1 108 28 is_stmt 0 view .LVU92
 322 0092 1D4B     		ldr	r3, .L31+32
 323 0094 0222     		movs	r2, #2
 324 0096 1A70     		strb	r2, [r3]
 325 0098 0AE0     		b	.L21
 326              	.LVL16:
 327              	.L23:
 108:Src/usb/i2c.c ****         } else {
 328              		.loc 1 108 28 view .LVU93
ARM GAS  /tmp/cc2lXeEE.s 			page 11


 329              	.LBE4:
 330              	.LBB5:
 118:Src/usb/i2c.c ****             } else {
 331              		.loc 1 118 21 is_stmt 1 view .LVU94
 118:Src/usb/i2c.c ****             } else {
 332              		.loc 1 118 32 is_stmt 0 view .LVU95
 333 009a 1B4B     		ldr	r3, .L31+32
 334 009c 0222     		movs	r2, #2
 335 009e 1A70     		strb	r2, [r3]
 336 00a0 06E0     		b	.L21
 337              	.LVL17:
 338              	.L22:
 118:Src/usb/i2c.c ****             } else {
 339              		.loc 1 118 32 view .LVU96
 340              	.LBE5:
 120:Src/usb/i2c.c **** 
 341              		.loc 1 120 17 is_stmt 1 view .LVU97
 120:Src/usb/i2c.c **** 
 342              		.loc 1 120 28 is_stmt 0 view .LVU98
 343 00a2 194B     		ldr	r3, .L31+32
 344 00a4 7F22     		movs	r2, #127
 345 00a6 1A70     		strb	r2, [r3]
 123:Src/usb/i2c.c ****             }
 346              		.loc 1 123 17 is_stmt 1 view .LVU99
 347 00a8 3246     		mov	r2, r6
 348 00aa 1549     		ldr	r1, .L31+24
 349 00ac FFF7FEFF 		bl	USBD_CtlPrepareRx
 350              	.LVL18:
 351              	.L21:
 123:Src/usb/i2c.c ****             }
 352              		.loc 1 123 17 is_stmt 0 view .LVU100
 353              	.LBE2:
 155:Src/usb/i2c.c **** }
 354              		.loc 1 155 5 is_stmt 1 view .LVU101
 156:Src/usb/i2c.c **** 
 355              		.loc 1 156 1 is_stmt 0 view .LVU102
 356 00b0 0020     		movs	r0, #0
 357 00b2 02B0     		add	sp, sp, #8
 358              	.LCFI2:
 359              		.cfi_remember_state
 360              		.cfi_def_cfa_offset 16
 361              		@ sp needed
 362 00b4 70BD     		pop	{r4, r5, r6, pc}
 363              	.LVL19:
 364              	.L16:
 365              	.LCFI3:
 366              		.cfi_restore_state
 129:Src/usb/i2c.c ****         {
 367              		.loc 1 129 9 is_stmt 1 view .LVU103
 368 00b6 032B     		cmp	r3, #3
 369 00b8 FAD8     		bhi	.L21
 370 00ba DFE803F0 		tbb	[pc, r3]
 371              	.LVL20:
 372              	.L25:
 373 00be 02       		.byte	(.L28-.L25)/2
 374 00bf 07       		.byte	(.L27-.L25)/2
 375 00c0 0C       		.byte	(.L26-.L25)/2
ARM GAS  /tmp/cc2lXeEE.s 			page 12


 376 00c1 10       		.byte	(.L24-.L25)/2
 377              		.p2align 1
 378              	.L28:
 132:Src/usb/i2c.c ****                 break;
 379              		.loc 1 132 17 view .LVU104
 380 00c2 0222     		movs	r2, #2
 381 00c4 1144     		add	r1, r1, r2
 382              	.LVL21:
 132:Src/usb/i2c.c ****                 break;
 383              		.loc 1 132 17 is_stmt 0 view .LVU105
 384 00c6 FFF7FEFF 		bl	USBD_CtlSendData
 385              	.LVL22:
 133:Src/usb/i2c.c ****             case CMD_GET_FUNC:
 386              		.loc 1 133 17 is_stmt 1 view .LVU106
 387 00ca F1E7     		b	.L21
 388              	.LVL23:
 389              	.L27:
 136:Src/usb/i2c.c ****                 break;
 390              		.loc 1 136 17 view .LVU107
 391 00cc 0422     		movs	r2, #4
 392 00ce 0F49     		ldr	r1, .L31+36
 393              	.LVL24:
 136:Src/usb/i2c.c ****                 break;
 394              		.loc 1 136 17 is_stmt 0 view .LVU108
 395 00d0 FFF7FEFF 		bl	USBD_CtlSendData
 396              	.LVL25:
 137:Src/usb/i2c.c ****             case CMD_SET_DELAY:
 397              		.loc 1 137 17 is_stmt 1 view .LVU109
 398 00d4 ECE7     		b	.L21
 399              	.LVL26:
 400              	.L26:
 401              	.LBB6:
 141:Src/usb/i2c.c ****                     i2c_clock_speed = 1000 * 1000 / delay_us;
 402              		.loc 1 141 21 view .LVU110
 142:Src/usb/i2c.c ****                     // maximum clock is 400kHz
 403              		.loc 1 142 21 view .LVU111
 144:Src/usb/i2c.c ****                         i2c_clock_speed = 400 * 1000;
 404              		.loc 1 144 21 view .LVU112
 146:Src/usb/i2c.c ****                 }
 405              		.loc 1 146 21 view .LVU113
 146:Src/usb/i2c.c ****                 }
 406              		.loc 1 146 34 is_stmt 0 view .LVU114
 407 00d6 0E4B     		ldr	r3, .L31+40
 408              	.LVL27:
 146:Src/usb/i2c.c ****                 }
 409              		.loc 1 146 34 view .LVU115
 410 00d8 0122     		movs	r2, #1
 411 00da 1A70     		strb	r2, [r3]
 412              	.LBE6:
 148:Src/usb/i2c.c ****             case CMD_GET_STATUS:
 413              		.loc 1 148 17 is_stmt 1 view .LVU116
 414 00dc E8E7     		b	.L21
 415              	.LVL28:
 416              	.L24:
 150:Src/usb/i2c.c ****                 break;
 417              		.loc 1 150 17 view .LVU117
 150:Src/usb/i2c.c ****                 break;
ARM GAS  /tmp/cc2lXeEE.s 			page 13


 418              		.loc 1 150 33 is_stmt 0 view .LVU118
 419 00de 0D4B     		ldr	r3, .L31+44
 420              	.LVL29:
 150:Src/usb/i2c.c ****                 break;
 421              		.loc 1 150 33 view .LVU119
 422 00e0 0122     		movs	r2, #1
 423 00e2 1A70     		strb	r2, [r3]
 151:Src/usb/i2c.c ****         }
 424              		.loc 1 151 17 is_stmt 1 view .LVU120
 425 00e4 E4E7     		b	.L21
 426              	.L32:
 427 00e6 00BF     		.align	2
 428              	.L31:
 429 00e8 00000000 		.word	.LANCHOR2
 430 00ec 00000000 		.word	.LANCHOR0
 431 00f0 00000000 		.word	.LANCHOR1
 432 00f4 00000000 		.word	.LANCHOR3
 433 00f8 00000000 		.word	.LANCHOR4
 434 00fc 00000000 		.word	.LANCHOR5
 435 0100 00000000 		.word	.LANCHOR6
 436 0104 00000000 		.word	i2c_handle
 437 0108 00000000 		.word	.LANCHOR7
 438 010c 00000000 		.word	.LANCHOR8
 439 0110 00000000 		.word	.LANCHOR9
 440 0114 00000000 		.word	.LANCHOR10
 441              		.cfi_endproc
 442              	.LFE146:
 444              		.section	.text.I2C_EP0_RxReady,"ax",%progbits
 445              		.align	1
 446              		.global	I2C_EP0_RxReady
 447              		.syntax unified
 448              		.thumb
 449              		.thumb_func
 450              		.fpu fpv5-d16
 452              	I2C_EP0_RxReady:
 453              	.LVL30:
 454              	.LFB147:
 159:Src/usb/i2c.c ****     (void)pdev;
 455              		.loc 1 159 1 view -0
 456              		.cfi_startproc
 457              		@ args = 0, pretend = 0, frame = 0
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 160:Src/usb/i2c.c ****     if (i2c_read == 0 && i2c_actual_length > 0) {
 459              		.loc 1 160 5 view .LVU122
 161:Src/usb/i2c.c ****         HAL_I2C_Master_Sequential_Transmit_IT(
 460              		.loc 1 161 5 view .LVU123
 161:Src/usb/i2c.c ****         HAL_I2C_Master_Sequential_Transmit_IT(
 461              		.loc 1 161 18 is_stmt 0 view .LVU124
 462 0000 0B4B     		ldr	r3, .L40
 463 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 161:Src/usb/i2c.c ****         HAL_I2C_Master_Sequential_Transmit_IT(
 464              		.loc 1 161 8 view .LVU125
 465 0004 93B9     		cbnz	r3, .L36
 159:Src/usb/i2c.c ****     (void)pdev;
 466              		.loc 1 159 1 discriminator 1 view .LVU126
 467 0006 10B5     		push	{r4, lr}
 468              	.LCFI4:
ARM GAS  /tmp/cc2lXeEE.s 			page 14


 469              		.cfi_def_cfa_offset 8
 470              		.cfi_offset 4, -8
 471              		.cfi_offset 14, -4
 472 0008 82B0     		sub	sp, sp, #8
 473              	.LCFI5:
 474              		.cfi_def_cfa_offset 16
 161:Src/usb/i2c.c ****         HAL_I2C_Master_Sequential_Transmit_IT(
 475              		.loc 1 161 44 discriminator 1 view .LVU127
 476 000a 0A4B     		ldr	r3, .L40+4
 477 000c 1C68     		ldr	r4, [r3]
 161:Src/usb/i2c.c ****         HAL_I2C_Master_Sequential_Transmit_IT(
 478              		.loc 1 161 23 discriminator 1 view .LVU128
 479 000e 14B9     		cbnz	r4, .L39
 480              	.LVL31:
 481              	.L34:
 165:Src/usb/i2c.c **** }
 482              		.loc 1 165 5 is_stmt 1 view .LVU129
 166:Src/usb/i2c.c **** 
 483              		.loc 1 166 1 is_stmt 0 view .LVU130
 484 0010 0020     		movs	r0, #0
 485 0012 02B0     		add	sp, sp, #8
 486              	.LCFI6:
 487              		.cfi_remember_state
 488              		.cfi_def_cfa_offset 8
 489              		@ sp needed
 490 0014 10BD     		pop	{r4, pc}
 491              	.LVL32:
 492              	.L39:
 493              	.LCFI7:
 494              		.cfi_restore_state
 162:Src/usb/i2c.c ****             &i2c_handle, i2c_addr, i2c_buffer, i2c_actual_length, GetXferOption());
 495              		.loc 1 162 9 is_stmt 1 view .LVU131
 496 0016 FFF7FEFF 		bl	GetXferOption
 497              	.LVL33:
 162:Src/usb/i2c.c ****             &i2c_handle, i2c_addr, i2c_buffer, i2c_actual_length, GetXferOption());
 498              		.loc 1 162 9 is_stmt 0 view .LVU132
 499 001a 0090     		str	r0, [sp]
 500 001c A3B2     		uxth	r3, r4
 501 001e 064A     		ldr	r2, .L40+8
 502 0020 0649     		ldr	r1, .L40+12
 503 0022 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 504 0024 0648     		ldr	r0, .L40+16
 505 0026 FFF7FEFF 		bl	HAL_I2C_Master_Seq_Transmit_IT
 506              	.LVL34:
 507 002a F1E7     		b	.L34
 508              	.LVL35:
 509              	.L36:
 510              	.LCFI8:
 511              		.cfi_def_cfa_offset 0
 512              		.cfi_restore 4
 513              		.cfi_restore 14
 165:Src/usb/i2c.c **** }
 514              		.loc 1 165 5 is_stmt 1 view .LVU133
 166:Src/usb/i2c.c **** 
 515              		.loc 1 166 1 is_stmt 0 view .LVU134
 516 002c 0020     		movs	r0, #0
 517              	.LVL36:
ARM GAS  /tmp/cc2lXeEE.s 			page 15


 166:Src/usb/i2c.c **** 
 518              		.loc 1 166 1 view .LVU135
 519 002e 7047     		bx	lr
 520              	.L41:
 521              		.align	2
 522              	.L40:
 523 0030 00000000 		.word	.LANCHOR3
 524 0034 00000000 		.word	.LANCHOR4
 525 0038 00000000 		.word	.LANCHOR6
 526 003c 00000000 		.word	.LANCHOR2
 527 0040 00000000 		.word	i2c_handle
 528              		.cfi_endproc
 529              	.LFE147:
 531              		.section	.text.HAL_I2C_MasterTxCpltCallback,"ax",%progbits
 532              		.align	1
 533              		.global	HAL_I2C_MasterTxCpltCallback
 534              		.syntax unified
 535              		.thumb
 536              		.thumb_func
 537              		.fpu fpv5-d16
 539              	HAL_I2C_MasterTxCpltCallback:
 540              	.LVL37:
 541              	.LFB150:
 188:Src/usb/i2c.c **** 
 189:Src/usb/i2c.c **** void HAL_I2C_MasterTxCpltCallback(I2C_HandleTypeDef *i2c_handle) {
 542              		.loc 1 189 66 is_stmt 1 view -0
 543              		.cfi_startproc
 544              		@ args = 0, pretend = 0, frame = 0
 545              		@ frame_needed = 0, uses_anonymous_args = 0
 546              		@ link register save eliminated.
 190:Src/usb/i2c.c ****     (void)i2c_handle;
 547              		.loc 1 190 5 view .LVU137
 191:Src/usb/i2c.c ****     i2c_status = STATUS_ADDRESS_ACK;
 548              		.loc 1 191 5 view .LVU138
 549              		.loc 1 191 16 is_stmt 0 view .LVU139
 550 0000 014B     		ldr	r3, .L43
 551 0002 0122     		movs	r2, #1
 552 0004 1A70     		strb	r2, [r3]
 192:Src/usb/i2c.c **** }
 553              		.loc 1 192 1 view .LVU140
 554 0006 7047     		bx	lr
 555              	.L44:
 556              		.align	2
 557              	.L43:
 558 0008 00000000 		.word	.LANCHOR7
 559              		.cfi_endproc
 560              	.LFE150:
 562              		.section	.text.HAL_I2C_MasterRxCpltCallback,"ax",%progbits
 563              		.align	1
 564              		.global	HAL_I2C_MasterRxCpltCallback
 565              		.syntax unified
 566              		.thumb
 567              		.thumb_func
 568              		.fpu fpv5-d16
 570              	HAL_I2C_MasterRxCpltCallback:
 571              	.LVL38:
 572              	.LFB151:
ARM GAS  /tmp/cc2lXeEE.s 			page 16


 193:Src/usb/i2c.c **** 
 194:Src/usb/i2c.c **** void HAL_I2C_MasterRxCpltCallback(I2C_HandleTypeDef *i2c_handle) {
 573              		.loc 1 194 66 is_stmt 1 view -0
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 0
 576              		@ frame_needed = 0, uses_anonymous_args = 0
 577              		@ link register save eliminated.
 195:Src/usb/i2c.c ****     (void)i2c_handle;
 578              		.loc 1 195 5 view .LVU142
 196:Src/usb/i2c.c ****     i2c_status = STATUS_ADDRESS_ACK;
 579              		.loc 1 196 5 view .LVU143
 580              		.loc 1 196 16 is_stmt 0 view .LVU144
 581 0000 0123     		movs	r3, #1
 582 0002 024A     		ldr	r2, .L46
 583 0004 1370     		strb	r3, [r2]
 197:Src/usb/i2c.c ****     run_send_data = 1;
 584              		.loc 1 197 5 is_stmt 1 view .LVU145
 585              		.loc 1 197 19 is_stmt 0 view .LVU146
 586 0006 024A     		ldr	r2, .L46+4
 587 0008 1370     		strb	r3, [r2]
 198:Src/usb/i2c.c **** }
 588              		.loc 1 198 1 view .LVU147
 589 000a 7047     		bx	lr
 590              	.L47:
 591              		.align	2
 592              	.L46:
 593 000c 00000000 		.word	.LANCHOR7
 594 0010 00000000 		.word	.LANCHOR11
 595              		.cfi_endproc
 596              	.LFE151:
 598              		.section	.text.HAL_I2C_AbortCpltCallback,"ax",%progbits
 599              		.align	1
 600              		.global	HAL_I2C_AbortCpltCallback
 601              		.syntax unified
 602              		.thumb
 603              		.thumb_func
 604              		.fpu fpv5-d16
 606              	HAL_I2C_AbortCpltCallback:
 607              	.LVL39:
 608              	.LFB152:
 199:Src/usb/i2c.c **** 
 200:Src/usb/i2c.c **** void HAL_I2C_AbortCpltCallback(I2C_HandleTypeDef *i2c_handle) {
 609              		.loc 1 200 63 is_stmt 1 view -0
 610              		.cfi_startproc
 611              		@ args = 0, pretend = 0, frame = 0
 612              		@ frame_needed = 0, uses_anonymous_args = 0
 613              		@ link register save eliminated.
 201:Src/usb/i2c.c ****     (void)i2c_handle;
 614              		.loc 1 201 5 view .LVU149
 202:Src/usb/i2c.c ****     i2c_status = STATUS_IDLE;
 615              		.loc 1 202 5 view .LVU150
 616              		.loc 1 202 16 is_stmt 0 view .LVU151
 617 0000 014B     		ldr	r3, .L49
 618 0002 0022     		movs	r2, #0
 619 0004 1A70     		strb	r2, [r3]
 203:Src/usb/i2c.c **** }
 620              		.loc 1 203 1 view .LVU152
ARM GAS  /tmp/cc2lXeEE.s 			page 17


 621 0006 7047     		bx	lr
 622              	.L50:
 623              		.align	2
 624              	.L49:
 625 0008 00000000 		.word	.LANCHOR7
 626              		.cfi_endproc
 627              	.LFE152:
 629              		.section	.text.HAL_I2C_ErrorCallback,"ax",%progbits
 630              		.align	1
 631              		.global	HAL_I2C_ErrorCallback
 632              		.syntax unified
 633              		.thumb
 634              		.thumb_func
 635              		.fpu fpv5-d16
 637              	HAL_I2C_ErrorCallback:
 638              	.LVL40:
 639              	.LFB153:
 204:Src/usb/i2c.c **** 
 205:Src/usb/i2c.c **** void HAL_I2C_ErrorCallback(I2C_HandleTypeDef *i2c_handle) {
 640              		.loc 1 205 59 is_stmt 1 view -0
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 0
 643              		@ frame_needed = 0, uses_anonymous_args = 0
 644              		@ link register save eliminated.
 206:Src/usb/i2c.c ****     (void)i2c_handle;
 645              		.loc 1 206 5 view .LVU154
 207:Src/usb/i2c.c ****     i2c_status = STATUS_ADDRESS_NAK;
 646              		.loc 1 207 5 view .LVU155
 647              		.loc 1 207 16 is_stmt 0 view .LVU156
 648 0000 0A4B     		ldr	r3, .L57
 649 0002 0222     		movs	r2, #2
 650 0004 1A70     		strb	r2, [r3]
 208:Src/usb/i2c.c **** 
 209:Src/usb/i2c.c ****     if (i2c_read) {
 651              		.loc 1 209 5 is_stmt 1 view .LVU157
 652              		.loc 1 209 9 is_stmt 0 view .LVU158
 653 0006 0A4B     		ldr	r3, .L57+4
 654 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 655              		.loc 1 209 8 view .LVU159
 656 000a 03B9     		cbnz	r3, .L55
 657 000c 7047     		bx	lr
 658              	.L55:
 659              	.LBB7:
 210:Src/usb/i2c.c ****         for (uint32_t i = 0; i < i2c_actual_length; i++) {
 660              		.loc 1 210 23 view .LVU160
 661 000e 0023     		movs	r3, #0
 662              	.L52:
 663              	.LVL41:
 664              		.loc 1 210 30 is_stmt 1 discriminator 1 view .LVU161
 665              		.loc 1 210 32 is_stmt 0 discriminator 1 view .LVU162
 666 0010 084A     		ldr	r2, .L57+8
 667 0012 1268     		ldr	r2, [r2]
 668              		.loc 1 210 9 discriminator 1 view .LVU163
 669 0014 9A42     		cmp	r2, r3
 670 0016 04D9     		bls	.L56
 211:Src/usb/i2c.c ****             i2c_buffer[i] = 0;
 671              		.loc 1 211 13 is_stmt 1 discriminator 3 view .LVU164
ARM GAS  /tmp/cc2lXeEE.s 			page 18


 672              		.loc 1 211 27 is_stmt 0 discriminator 3 view .LVU165
 673 0018 074A     		ldr	r2, .L57+12
 674 001a 0021     		movs	r1, #0
 675 001c D154     		strb	r1, [r2, r3]
 210:Src/usb/i2c.c ****         for (uint32_t i = 0; i < i2c_actual_length; i++) {
 676              		.loc 1 210 53 is_stmt 1 discriminator 3 view .LVU166
 210:Src/usb/i2c.c ****         for (uint32_t i = 0; i < i2c_actual_length; i++) {
 677              		.loc 1 210 54 is_stmt 0 discriminator 3 view .LVU167
 678 001e 0133     		adds	r3, r3, #1
 679              	.LVL42:
 210:Src/usb/i2c.c ****         for (uint32_t i = 0; i < i2c_actual_length; i++) {
 680              		.loc 1 210 54 discriminator 3 view .LVU168
 681 0020 F6E7     		b	.L52
 682              	.L56:
 210:Src/usb/i2c.c ****         for (uint32_t i = 0; i < i2c_actual_length; i++) {
 683              		.loc 1 210 54 discriminator 3 view .LVU169
 684              	.LBE7:
 212:Src/usb/i2c.c ****         }
 213:Src/usb/i2c.c ****         run_send_data = 1;
 685              		.loc 1 213 9 is_stmt 1 view .LVU170
 686              		.loc 1 213 23 is_stmt 0 view .LVU171
 687 0022 064B     		ldr	r3, .L57+16
 688              	.LVL43:
 689              		.loc 1 213 23 view .LVU172
 690 0024 0122     		movs	r2, #1
 691 0026 1A70     		strb	r2, [r3]
 214:Src/usb/i2c.c ****     }
 215:Src/usb/i2c.c **** }
 692              		.loc 1 215 1 view .LVU173
 693 0028 7047     		bx	lr
 694              	.L58:
 695 002a 00BF     		.align	2
 696              	.L57:
 697 002c 00000000 		.word	.LANCHOR7
 698 0030 00000000 		.word	.LANCHOR3
 699 0034 00000000 		.word	.LANCHOR4
 700 0038 00000000 		.word	.LANCHOR6
 701 003c 00000000 		.word	.LANCHOR11
 702              		.cfi_endproc
 703              	.LFE153:
 705              		.section	.text.I2C_Run_In_Thread_Mode,"ax",%progbits
 706              		.align	1
 707              		.global	I2C_Run_In_Thread_Mode
 708              		.syntax unified
 709              		.thumb
 710              		.thumb_func
 711              		.fpu fpv5-d16
 713              	I2C_Run_In_Thread_Mode:
 714              	.LFB154:
 216:Src/usb/i2c.c **** 
 217:Src/usb/i2c.c **** void I2C_Run_In_Thread_Mode() {
 715              		.loc 1 217 31 is_stmt 1 view -0
 716              		.cfi_startproc
 717              		@ args = 0, pretend = 0, frame = 0
 718              		@ frame_needed = 0, uses_anonymous_args = 0
 719 0000 08B5     		push	{r3, lr}
 720              	.LCFI9:
ARM GAS  /tmp/cc2lXeEE.s 			page 19


 721              		.cfi_def_cfa_offset 8
 722              		.cfi_offset 3, -8
 723              		.cfi_offset 14, -4
 218:Src/usb/i2c.c ****     if (run_i2c_init == 1) {
 724              		.loc 1 218 5 view .LVU175
 725              		.loc 1 218 22 is_stmt 0 view .LVU176
 726 0002 174B     		ldr	r3, .L67
 727 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 728              		.loc 1 218 8 view .LVU177
 729 0006 012B     		cmp	r3, #1
 730 0008 08D0     		beq	.L64
 731              	.L60:
 219:Src/usb/i2c.c ****         run_i2c_init = 0;
 220:Src/usb/i2c.c ****         I2C_DeInit();
 221:Src/usb/i2c.c ****         I2C_Init();
 222:Src/usb/i2c.c ****     }
 223:Src/usb/i2c.c **** 
 224:Src/usb/i2c.c ****     if (run_send_status == 1 && i2c_status != STATUS_BUSY) {
 732              		.loc 1 224 5 is_stmt 1 view .LVU178
 733              		.loc 1 224 25 is_stmt 0 view .LVU179
 734 000a 164B     		ldr	r3, .L67+4
 735 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 736              		.loc 1 224 8 view .LVU180
 737 000e 012B     		cmp	r3, #1
 738 0010 0CD0     		beq	.L65
 739              	.L61:
 225:Src/usb/i2c.c ****         run_send_status = 0;
 226:Src/usb/i2c.c **** 
 227:Src/usb/i2c.c **** //        HAL_NVIC_DisableIRQ(USB_LP_CAN1_RX0_IRQn);
 228:Src/usb/i2c.c ****         USBD_CtlSendData(usbd_handle, (uint8_t *)&i2c_status, 1);
 229:Src/usb/i2c.c **** //        HAL_NVIC_EnableIRQ(USB_LP_CAN1_RX0_IRQn);
 230:Src/usb/i2c.c ****     }
 231:Src/usb/i2c.c **** 
 232:Src/usb/i2c.c ****     if (run_send_data == 1) {
 740              		.loc 1 232 5 is_stmt 1 view .LVU181
 741              		.loc 1 232 23 is_stmt 0 view .LVU182
 742 0012 154B     		ldr	r3, .L67+8
 743 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 744              		.loc 1 232 8 view .LVU183
 745 0016 012B     		cmp	r3, #1
 746 0018 16D0     		beq	.L66
 747              	.L59:
 233:Src/usb/i2c.c ****         run_send_data = 0;
 234:Src/usb/i2c.c **** 
 235:Src/usb/i2c.c **** //        HAL_NVIC_DisableIRQ(USB_LP_CAN1_RX0_IRQn);
 236:Src/usb/i2c.c ****         USBD_CtlSendData(usbd_handle, i2c_buffer, i2c_actual_length);
 237:Src/usb/i2c.c **** //        HAL_NVIC_EnableIRQ(USB_LP_CAN1_RX0_IRQn);
 238:Src/usb/i2c.c ****     }
 239:Src/usb/i2c.c **** }
 748              		.loc 1 239 1 view .LVU184
 749 001a 08BD     		pop	{r3, pc}
 750              	.L64:
 219:Src/usb/i2c.c ****         I2C_DeInit();
 751              		.loc 1 219 9 is_stmt 1 view .LVU185
 219:Src/usb/i2c.c ****         I2C_DeInit();
 752              		.loc 1 219 22 is_stmt 0 view .LVU186
 753 001c 104B     		ldr	r3, .L67
ARM GAS  /tmp/cc2lXeEE.s 			page 20


 754 001e 0022     		movs	r2, #0
 755 0020 1A70     		strb	r2, [r3]
 220:Src/usb/i2c.c ****         I2C_Init();
 756              		.loc 1 220 9 is_stmt 1 view .LVU187
 757 0022 FFF7FEFF 		bl	I2C_DeInit
 758              	.LVL44:
 221:Src/usb/i2c.c ****     }
 759              		.loc 1 221 9 view .LVU188
 760 0026 FFF7FEFF 		bl	I2C_Init
 761              	.LVL45:
 762 002a EEE7     		b	.L60
 763              	.L65:
 224:Src/usb/i2c.c ****         run_send_status = 0;
 764              		.loc 1 224 44 is_stmt 0 discriminator 1 view .LVU189
 765 002c 0F4B     		ldr	r3, .L67+12
 766 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 224:Src/usb/i2c.c ****         run_send_status = 0;
 767              		.loc 1 224 30 discriminator 1 view .LVU190
 768 0030 7F2B     		cmp	r3, #127
 769 0032 EED0     		beq	.L61
 225:Src/usb/i2c.c **** 
 770              		.loc 1 225 9 is_stmt 1 view .LVU191
 225:Src/usb/i2c.c **** 
 771              		.loc 1 225 25 is_stmt 0 view .LVU192
 772 0034 0B4B     		ldr	r3, .L67+4
 773 0036 0022     		movs	r2, #0
 774 0038 1A70     		strb	r2, [r3]
 228:Src/usb/i2c.c **** //        HAL_NVIC_EnableIRQ(USB_LP_CAN1_RX0_IRQn);
 775              		.loc 1 228 9 is_stmt 1 view .LVU193
 776 003a 0122     		movs	r2, #1
 777 003c 0B49     		ldr	r1, .L67+12
 778 003e 0C4B     		ldr	r3, .L67+16
 779 0040 1868     		ldr	r0, [r3]
 780 0042 FFF7FEFF 		bl	USBD_CtlSendData
 781              	.LVL46:
 782 0046 E4E7     		b	.L61
 783              	.L66:
 233:Src/usb/i2c.c **** 
 784              		.loc 1 233 9 view .LVU194
 233:Src/usb/i2c.c **** 
 785              		.loc 1 233 23 is_stmt 0 view .LVU195
 786 0048 074B     		ldr	r3, .L67+8
 787 004a 0022     		movs	r2, #0
 788 004c 1A70     		strb	r2, [r3]
 236:Src/usb/i2c.c **** //        HAL_NVIC_EnableIRQ(USB_LP_CAN1_RX0_IRQn);
 789              		.loc 1 236 9 is_stmt 1 view .LVU196
 790 004e 094B     		ldr	r3, .L67+20
 791 0050 1A68     		ldr	r2, [r3]
 792 0052 0949     		ldr	r1, .L67+24
 793 0054 064B     		ldr	r3, .L67+16
 794 0056 1868     		ldr	r0, [r3]
 795 0058 FFF7FEFF 		bl	USBD_CtlSendData
 796              	.LVL47:
 797              		.loc 1 239 1 is_stmt 0 view .LVU197
 798 005c DDE7     		b	.L59
 799              	.L68:
 800 005e 00BF     		.align	2
ARM GAS  /tmp/cc2lXeEE.s 			page 21


 801              	.L67:
 802 0060 00000000 		.word	.LANCHOR9
 803 0064 00000000 		.word	.LANCHOR10
 804 0068 00000000 		.word	.LANCHOR11
 805 006c 00000000 		.word	.LANCHOR7
 806 0070 00000000 		.word	.LANCHOR5
 807 0074 00000000 		.word	.LANCHOR4
 808 0078 00000000 		.word	.LANCHOR6
 809              		.cfi_endproc
 810              	.LFE154:
 812              		.comm	i2c_handle,76,4
 813              		.section	.bss.i2c_actual_length,"aw",%nobits
 814              		.align	2
 815              		.set	.LANCHOR4,. + 0
 818              	i2c_actual_length:
 819 0000 00000000 		.space	4
 820              		.section	.bss.i2c_addr,"aw",%nobits
 821              		.set	.LANCHOR2,. + 0
 824              	i2c_addr:
 825 0000 00       		.space	1
 826              		.section	.bss.i2c_buffer,"aw",%nobits
 827              		.align	2
 828              		.set	.LANCHOR6,. + 0
 831              	i2c_buffer:
 832 0000 00000000 		.space	1024
 832      00000000 
 832      00000000 
 832      00000000 
 832      00000000 
 833              		.section	.bss.i2c_is_begin,"aw",%nobits
 834              		.set	.LANCHOR0,. + 0
 837              	i2c_is_begin:
 838 0000 00       		.space	1
 839              		.section	.bss.i2c_is_end,"aw",%nobits
 840              		.set	.LANCHOR1,. + 0
 843              	i2c_is_end:
 844 0000 00       		.space	1
 845              		.section	.bss.i2c_read,"aw",%nobits
 846              		.set	.LANCHOR3,. + 0
 849              	i2c_read:
 850 0000 00       		.space	1
 851              		.section	.bss.i2c_status,"aw",%nobits
 852              		.set	.LANCHOR7,. + 0
 855              	i2c_status:
 856 0000 00       		.space	1
 857              		.section	.bss.run_send_data,"aw",%nobits
 858              		.set	.LANCHOR11,. + 0
 861              	run_send_data:
 862 0000 00       		.space	1
 863              		.section	.bss.run_send_status,"aw",%nobits
 864              		.set	.LANCHOR10,. + 0
 867              	run_send_status:
 868 0000 00       		.space	1
 869              		.section	.bss.usbd_handle,"aw",%nobits
 870              		.align	2
 871              		.set	.LANCHOR5,. + 0
 874              	usbd_handle:
ARM GAS  /tmp/cc2lXeEE.s 			page 22


 875 0000 00000000 		.space	4
 876              		.section	.data.run_i2c_init,"aw"
 877              		.set	.LANCHOR9,. + 0
 880              	run_i2c_init:
 881 0000 01       		.byte	1
 882              		.section	.rodata.i2c_func,"a"
 883              		.align	2
 884              		.set	.LANCHOR8,. + 0
 887              	i2c_func:
 888 0000 0900FF0E 		.word	251592713
 889              		.text
 890              	.Letext0:
 891              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 892              		.file 3 "Drivers/CMSIS/Include/core_cm7.h"
 893              		.file 4 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 894              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f767xx.h"
 895              		.file 6 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 896              		.file 7 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 897              		.file 8 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_i2c.h"
 898              		.file 9 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 899              		.file 10 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 900              		.file 11 "/usr/include/newlib/sys/_types.h"
 901              		.file 12 "/usr/include/newlib/sys/reent.h"
 902              		.file 13 "/usr/include/newlib/sys/lock.h"
 903              		.file 14 "/usr/include/newlib/stdlib.h"
 904              		.file 15 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 905              		.file 16 "Inc/usbd_desc.h"
 906              		.file 17 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ioreq.h"
ARM GAS  /tmp/cc2lXeEE.s 			page 23


DEFINED SYMBOLS
                            *ABS*:0000000000000000 i2c.c
     /tmp/cc2lXeEE.s:17     .text.GetXferOption:0000000000000000 $t
     /tmp/cc2lXeEE.s:24     .text.GetXferOption:0000000000000000 GetXferOption
     /tmp/cc2lXeEE.s:71     .text.GetXferOption:000000000000002c $d
     /tmp/cc2lXeEE.s:77     .text.I2C_Init:0000000000000000 $t
     /tmp/cc2lXeEE.s:83     .text.I2C_Init:0000000000000000 I2C_Init
     /tmp/cc2lXeEE.s:122    .text.I2C_Init:000000000000001c $d
                            *COM*:000000000000004c i2c_handle
     /tmp/cc2lXeEE.s:128    .text.I2C_DeInit:0000000000000000 $t
     /tmp/cc2lXeEE.s:134    .text.I2C_DeInit:0000000000000000 I2C_DeInit
     /tmp/cc2lXeEE.s:151    .text.I2C_DeInit:0000000000000008 $d
     /tmp/cc2lXeEE.s:157    .text.I2C_Setup:0000000000000000 $t
     /tmp/cc2lXeEE.s:164    .text.I2C_Setup:0000000000000000 I2C_Setup
     /tmp/cc2lXeEE.s:373    .text.I2C_Setup:00000000000000be $d
     /tmp/cc2lXeEE.s:377    .text.I2C_Setup:00000000000000c2 $t
     /tmp/cc2lXeEE.s:429    .text.I2C_Setup:00000000000000e8 $d
     /tmp/cc2lXeEE.s:445    .text.I2C_EP0_RxReady:0000000000000000 $t
     /tmp/cc2lXeEE.s:452    .text.I2C_EP0_RxReady:0000000000000000 I2C_EP0_RxReady
     /tmp/cc2lXeEE.s:523    .text.I2C_EP0_RxReady:0000000000000030 $d
     /tmp/cc2lXeEE.s:532    .text.HAL_I2C_MasterTxCpltCallback:0000000000000000 $t
     /tmp/cc2lXeEE.s:539    .text.HAL_I2C_MasterTxCpltCallback:0000000000000000 HAL_I2C_MasterTxCpltCallback
     /tmp/cc2lXeEE.s:558    .text.HAL_I2C_MasterTxCpltCallback:0000000000000008 $d
     /tmp/cc2lXeEE.s:563    .text.HAL_I2C_MasterRxCpltCallback:0000000000000000 $t
     /tmp/cc2lXeEE.s:570    .text.HAL_I2C_MasterRxCpltCallback:0000000000000000 HAL_I2C_MasterRxCpltCallback
     /tmp/cc2lXeEE.s:593    .text.HAL_I2C_MasterRxCpltCallback:000000000000000c $d
     /tmp/cc2lXeEE.s:599    .text.HAL_I2C_AbortCpltCallback:0000000000000000 $t
     /tmp/cc2lXeEE.s:606    .text.HAL_I2C_AbortCpltCallback:0000000000000000 HAL_I2C_AbortCpltCallback
     /tmp/cc2lXeEE.s:625    .text.HAL_I2C_AbortCpltCallback:0000000000000008 $d
     /tmp/cc2lXeEE.s:630    .text.HAL_I2C_ErrorCallback:0000000000000000 $t
     /tmp/cc2lXeEE.s:637    .text.HAL_I2C_ErrorCallback:0000000000000000 HAL_I2C_ErrorCallback
     /tmp/cc2lXeEE.s:697    .text.HAL_I2C_ErrorCallback:000000000000002c $d
     /tmp/cc2lXeEE.s:706    .text.I2C_Run_In_Thread_Mode:0000000000000000 $t
     /tmp/cc2lXeEE.s:713    .text.I2C_Run_In_Thread_Mode:0000000000000000 I2C_Run_In_Thread_Mode
     /tmp/cc2lXeEE.s:802    .text.I2C_Run_In_Thread_Mode:0000000000000060 $d
     /tmp/cc2lXeEE.s:814    .bss.i2c_actual_length:0000000000000000 $d
     /tmp/cc2lXeEE.s:818    .bss.i2c_actual_length:0000000000000000 i2c_actual_length
     /tmp/cc2lXeEE.s:824    .bss.i2c_addr:0000000000000000 i2c_addr
     /tmp/cc2lXeEE.s:825    .bss.i2c_addr:0000000000000000 $d
     /tmp/cc2lXeEE.s:827    .bss.i2c_buffer:0000000000000000 $d
     /tmp/cc2lXeEE.s:831    .bss.i2c_buffer:0000000000000000 i2c_buffer
     /tmp/cc2lXeEE.s:837    .bss.i2c_is_begin:0000000000000000 i2c_is_begin
     /tmp/cc2lXeEE.s:838    .bss.i2c_is_begin:0000000000000000 $d
     /tmp/cc2lXeEE.s:843    .bss.i2c_is_end:0000000000000000 i2c_is_end
     /tmp/cc2lXeEE.s:844    .bss.i2c_is_end:0000000000000000 $d
     /tmp/cc2lXeEE.s:849    .bss.i2c_read:0000000000000000 i2c_read
     /tmp/cc2lXeEE.s:850    .bss.i2c_read:0000000000000000 $d
     /tmp/cc2lXeEE.s:855    .bss.i2c_status:0000000000000000 i2c_status
     /tmp/cc2lXeEE.s:856    .bss.i2c_status:0000000000000000 $d
     /tmp/cc2lXeEE.s:861    .bss.run_send_data:0000000000000000 run_send_data
     /tmp/cc2lXeEE.s:862    .bss.run_send_data:0000000000000000 $d
     /tmp/cc2lXeEE.s:867    .bss.run_send_status:0000000000000000 run_send_status
     /tmp/cc2lXeEE.s:868    .bss.run_send_status:0000000000000000 $d
     /tmp/cc2lXeEE.s:870    .bss.usbd_handle:0000000000000000 $d
     /tmp/cc2lXeEE.s:874    .bss.usbd_handle:0000000000000000 usbd_handle
     /tmp/cc2lXeEE.s:880    .data.run_i2c_init:0000000000000000 run_i2c_init
     /tmp/cc2lXeEE.s:883    .rodata.i2c_func:0000000000000000 $d
ARM GAS  /tmp/cc2lXeEE.s 			page 24


     /tmp/cc2lXeEE.s:887    .rodata.i2c_func:0000000000000000 i2c_func

UNDEFINED SYMBOLS
HAL_I2C_Master_Seq_Transmit_IT
HAL_I2C_Master_Seq_Receive_IT
USBD_CtlPrepareRx
USBD_CtlSendData
