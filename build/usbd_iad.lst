ARM GAS  /tmp/cc1oW4tv.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"usbd_iad.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.USBD_IAD_DataIn,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	USBD_IAD_DataIn:
  25              	.LVL0:
  26              	.LFB148:
  27              		.file 1 "Src/usbd_iad.c"
   1:Src/usbd_iad.c **** /* Includes ------------------------------------------------------------------*/
   2:Src/usbd_iad.c **** #include "usbd_iad.h"
   3:Src/usbd_iad.c **** #include "usbd_desc.h"
   4:Src/usbd_iad.c **** #include "usbd_ctlreq.h"
   5:Src/usbd_iad.c **** 
   6:Src/usbd_iad.c **** /** @addtogroup STM32_USB_DEVICE_LIBRARY
   7:Src/usbd_iad.c ****  * @{
   8:Src/usbd_iad.c ****  */
   9:Src/usbd_iad.c **** 
  10:Src/usbd_iad.c **** /** @defgroup USBD_IAD
  11:Src/usbd_iad.c ****  * @brief usbd core module
  12:Src/usbd_iad.c ****  * @{
  13:Src/usbd_iad.c ****  */
  14:Src/usbd_iad.c **** 
  15:Src/usbd_iad.c **** /** @defgroup USBD_IAD_Private_TypesDefinitions
  16:Src/usbd_iad.c ****  * @{
  17:Src/usbd_iad.c ****  */
  18:Src/usbd_iad.c **** /**
  19:Src/usbd_iad.c ****  * @}
  20:Src/usbd_iad.c ****  */
  21:Src/usbd_iad.c **** 
  22:Src/usbd_iad.c **** /** @defgroup USBD_IAD_Private_Defines
  23:Src/usbd_iad.c ****  * @{
  24:Src/usbd_iad.c ****  */
  25:Src/usbd_iad.c **** /**
  26:Src/usbd_iad.c ****  * @}
  27:Src/usbd_iad.c ****  */
  28:Src/usbd_iad.c **** 
  29:Src/usbd_iad.c **** /** @defgroup USBD_IAD_Private_Macros
  30:Src/usbd_iad.c ****  * @{
  31:Src/usbd_iad.c ****  */
ARM GAS  /tmp/cc1oW4tv.s 			page 2


  32:Src/usbd_iad.c **** 
  33:Src/usbd_iad.c **** /**
  34:Src/usbd_iad.c ****  * @}
  35:Src/usbd_iad.c ****  */
  36:Src/usbd_iad.c **** 
  37:Src/usbd_iad.c **** /** @defgroup USBD_IAD_Private_FunctionPrototypes
  38:Src/usbd_iad.c ****  * @{
  39:Src/usbd_iad.c ****  */
  40:Src/usbd_iad.c **** 
  41:Src/usbd_iad.c **** static uint8_t USBD_IAD_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx);
  42:Src/usbd_iad.c **** 
  43:Src/usbd_iad.c **** static uint8_t USBD_IAD_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx);
  44:Src/usbd_iad.c **** 
  45:Src/usbd_iad.c **** static uint8_t USBD_IAD_Setup(USBD_HandleTypeDef *pdev,
  46:Src/usbd_iad.c **** 		USBD_SetupReqTypedef *req);
  47:Src/usbd_iad.c **** 
  48:Src/usbd_iad.c **** static uint8_t USBD_IAD_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum);
  49:Src/usbd_iad.c **** 
  50:Src/usbd_iad.c **** static uint8_t USBD_IAD_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum);
  51:Src/usbd_iad.c **** 
  52:Src/usbd_iad.c **** static uint8_t USBD_IAD_EP0_RxReady(USBD_HandleTypeDef *pdev);
  53:Src/usbd_iad.c **** 
  54:Src/usbd_iad.c **** static uint8_t *USBD_IAD_GetFSCfgDesc(uint16_t *length);
  55:Src/usbd_iad.c **** 
  56:Src/usbd_iad.c **** static uint8_t *USBD_IAD_GetFSCfgDesc(uint16_t *length);
  57:Src/usbd_iad.c **** 
  58:Src/usbd_iad.c **** static uint8_t *USBD_IAD_GetOtherSpeedCfgDesc(uint16_t *length);
  59:Src/usbd_iad.c **** 
  60:Src/usbd_iad.c **** static uint8_t *USBD_IAD_GetOtherSpeedCfgDesc(uint16_t *length);
  61:Src/usbd_iad.c **** 
  62:Src/usbd_iad.c **** uint8_t *USBD_IAD_GetDeviceQualifierDescriptor(uint16_t *length);
  63:Src/usbd_iad.c **** 
  64:Src/usbd_iad.c **** /* USB Standard Device Descriptor */
  65:Src/usbd_iad.c **** __ALIGN_BEGIN static uint8_t USBD_IAD_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END
  66:Src/usbd_iad.c **** 		= {
  67:Src/usbd_iad.c **** 		USB_LEN_DEV_QUALIFIER_DESC,
  68:Src/usbd_iad.c **** 		USB_DESC_TYPE_DEVICE_QUALIFIER, 0x00, 0x02, 0x00, 0x00, 0x00, 0x40,
  69:Src/usbd_iad.c **** 				0x01, 0x00, };
  70:Src/usbd_iad.c **** 
  71:Src/usbd_iad.c **** /**
  72:Src/usbd_iad.c ****  * @}
  73:Src/usbd_iad.c ****  */
  74:Src/usbd_iad.c **** 
  75:Src/usbd_iad.c **** /** @defgroup USBD_IAD_Private_Variables
  76:Src/usbd_iad.c ****  * @{
  77:Src/usbd_iad.c ****  */
  78:Src/usbd_iad.c **** 
  79:Src/usbd_iad.c **** /* IAD interface class callbacks structure */
  80:Src/usbd_iad.c **** USBD_ClassTypeDef USBD_IAD = {
  81:Src/usbd_iad.c **** 	USBD_IAD_Init,
  82:Src/usbd_iad.c **** 	USBD_IAD_DeInit,
  83:Src/usbd_iad.c **** 	USBD_IAD_Setup,
  84:Src/usbd_iad.c **** 	NULL, /* EP0_TxSent, */
  85:Src/usbd_iad.c **** 	USBD_IAD_EP0_RxReady,
  86:Src/usbd_iad.c **** 	USBD_IAD_DataIn,
  87:Src/usbd_iad.c **** 	USBD_IAD_DataOut,
  88:Src/usbd_iad.c **** 	NULL,
ARM GAS  /tmp/cc1oW4tv.s 			page 3


  89:Src/usbd_iad.c **** 	NULL,
  90:Src/usbd_iad.c **** 	NULL,
  91:Src/usbd_iad.c **** 	USBD_IAD_GetFSCfgDesc,
  92:Src/usbd_iad.c **** 	USBD_IAD_GetFSCfgDesc,
  93:Src/usbd_iad.c **** 	USBD_IAD_GetOtherSpeedCfgDesc,
  94:Src/usbd_iad.c **** 	USBD_IAD_GetDeviceQualifierDescriptor,
  95:Src/usbd_iad.c **** };
  96:Src/usbd_iad.c **** 
  97:Src/usbd_iad.c **** __ALIGN_BEGIN uint8_t USBD_IAD_CfgFSDesc[USB_IAD_CONFIG_DESC_SIZ] __ALIGN_END =
  98:Src/usbd_iad.c **** {
  99:Src/usbd_iad.c **** 	//Configuation Descriptor
 100:Src/usbd_iad.c **** 	0x09,								// 00 bLength: Configuation Descriptor size
 101:Src/usbd_iad.c **** 	USB_DESC_TYPE_CONFIGURATION,		// 01 bDescriptorType: Configuration
 102:Src/usbd_iad.c **** 	USB_IAD_CONFIG_DESC_SIZ,			// 02 wTotalLength:no of returned bytes
 103:Src/usbd_iad.c **** 	0x00,								// 03
 104:Src/usbd_iad.c **** 	0x04,								// 04 bNumInterfaces: 4 interface
 105:Src/usbd_iad.c **** 	0x01,								// 05 bConfigurationValue: Configuration value
 106:Src/usbd_iad.c **** 	0x00,								// 06 iConfiguration: Index of string descriptor describing the configuration
 107:Src/usbd_iad.c **** 	0xC0,								// 07 bmAttributes: self powered
 108:Src/usbd_iad.c **** 	0x32,								// 08 MaxPower 100 mA
 109:Src/usbd_iad.c **** 
 110:Src/usbd_iad.c **** 	// IAD 1 -> CDC1
 111:Src/usbd_iad.c **** 	0x08,// 09 bLength: Interface Descriptor size
 112:Src/usbd_iad.c **** 	0x0B,								// 10 bDescriptorType: IAD
 113:Src/usbd_iad.c **** 	0x00,								// 11 bFirstInterface
 114:Src/usbd_iad.c **** 	0x02,								// 12 bInterfaceCount
 115:Src/usbd_iad.c **** 	0x02,								// 13 bFunctionClass: CDC
 116:Src/usbd_iad.c **** 	0x02,								// 14 bFunctionSubClass
 117:Src/usbd_iad.c **** 	0x01,								// 15 bFunctionProtocol
 118:Src/usbd_iad.c **** 	0x02,								// 16 iFunction
 119:Src/usbd_iad.c **** 
 120:Src/usbd_iad.c **** 	//Interface Descriptor
 121:Src/usbd_iad.c **** 	0x09,								// 17 bLength: Interface Descriptor size
 122:Src/usbd_iad.c **** 	USB_DESC_TYPE_INTERFACE,			// 18 bDescriptorType: Interface
 123:Src/usbd_iad.c **** 	// Interface descriptor type
 124:Src/usbd_iad.c **** 	0x00,								// 19 bInterfaceNumber: Number of Interface
 125:Src/usbd_iad.c **** 	0x00,								// 20 bAlternateSetting: Alternate setting
 126:Src/usbd_iad.c **** 	0x01,								// 21 bNumEndpoints: One endpoints used
 127:Src/usbd_iad.c **** 	0x02,								// 22 bInterfaceClass: Communication Interface Class
 128:Src/usbd_iad.c **** 	0x02,								// 23 bInterfaceSubClass: Abstract Control Model
 129:Src/usbd_iad.c **** 	0x01,								// 24 bInterfaceProtocol: Common AT commands
 130:Src/usbd_iad.c **** 	0x00,								// 25 iInterface:
 131:Src/usbd_iad.c **** 
 132:Src/usbd_iad.c **** 	//Header Functional Descriptor
 133:Src/usbd_iad.c **** 	0x05,								// 26 bLength: Endpoint Descriptor size
 134:Src/usbd_iad.c **** 	0x24,								// 27 bDescriptorType: CS_INTERFACE
 135:Src/usbd_iad.c **** 	0x00,								// 28 bDescriptorSubtype: Header Func Desc
 136:Src/usbd_iad.c **** 	0x10,								// 29 bcdIAD: spec release number
 137:Src/usbd_iad.c **** 	0x01,								// 30
 138:Src/usbd_iad.c **** 
 139:Src/usbd_iad.c **** 	//Call Managment Functional Descriptor
 140:Src/usbd_iad.c **** 	0x05,								// 31 bFunctionLength
 141:Src/usbd_iad.c **** 	0x24,								// 32 bDescriptorType: CS_INTERFACE
 142:Src/usbd_iad.c **** 	0x01,								// 33 bDescriptorSubtype: Call Management Func Desc
 143:Src/usbd_iad.c **** 	0x00,								// 34 bmCapabilities: D0+D1
 144:Src/usbd_iad.c **** 	0x01,								// 35 bDataInterface: 1
 145:Src/usbd_iad.c **** 
ARM GAS  /tmp/cc1oW4tv.s 			page 4


 146:Src/usbd_iad.c **** 	//ACM CDC1 Functional Descriptor
 147:Src/usbd_iad.c **** 	0x04,								// 36 bFunctionLength
 148:Src/usbd_iad.c **** 	0x24,								// 37 bDescriptorType: CS_INTERFACE
 149:Src/usbd_iad.c **** 	0x02,								// 38 bDescriptorSubtype: Abstract Control Management desc
 150:Src/usbd_iad.c **** 	0x02,								// 39 bmCapabilities
 151:Src/usbd_iad.c **** 
 152:Src/usbd_iad.c **** 	//Union Functional Descriptor
 153:Src/usbd_iad.c **** 	0x05,								// 40 bFunctionLength
 154:Src/usbd_iad.c **** 	0x24,								// 41 bDescriptorType: CS_INTERFACE
 155:Src/usbd_iad.c **** 	0x06,								// 42 bDescriptorSubtype: Union func desc
 156:Src/usbd_iad.c **** 	0x00,								// 43 bMasterInterface: Communication class interface
 157:Src/usbd_iad.c **** 	0x01,								// 44 bSlaveInterface0: Data Class Interface
 158:Src/usbd_iad.c **** 
 159:Src/usbd_iad.c **** 	//Endpoint CDC1 CMD Descriptor
 160:Src/usbd_iad.c **** 	0x07,								// 45 bLength: Endpoint Descriptor size
 161:Src/usbd_iad.c **** 	USB_DESC_TYPE_ENDPOINT,				// 46 bDescriptorType: Endpoint
 162:Src/usbd_iad.c **** 	IAD_CDC1_CMD_EP,					// 47 bEndpointAddress: (IN2)
 163:Src/usbd_iad.c **** 	0x03,								// 48 bmAttributes: Interrupt
 164:Src/usbd_iad.c **** 	LOBYTE(IAD_CDC_CMD_PACKET_SIZE),	// 49 wMaxPacketSize:
 165:Src/usbd_iad.c **** 	HIBYTE(IAD_CDC_CMD_PACKET_SIZE),	// 50
 166:Src/usbd_iad.c **** 	0xFF,								// 51 bInterval:
 167:Src/usbd_iad.c **** 	//---------------------------------------------------------------------------
 168:Src/usbd_iad.c **** 
 169:Src/usbd_iad.c **** 	//Data class interface descriptor
 170:Src/usbd_iad.c **** 	0x09,								// 52 bLength: Endpoint Descriptor size
 171:Src/usbd_iad.c **** 	USB_DESC_TYPE_INTERFACE,			// 53 bDescriptorType:
 172:Src/usbd_iad.c **** 	0x01,								// 54 bInterfaceNumber: Number of Interface
 173:Src/usbd_iad.c **** 	0x00,								// 55 bAlternateSetting: Alternate setting
 174:Src/usbd_iad.c **** 	0x02,								// 56 bNumEndpoints: Two endpoints used
 175:Src/usbd_iad.c **** 	0x0A,								// 57 bInterfaceClass: CDC
 176:Src/usbd_iad.c **** 	0x00,								// 58 bInterfaceSubClass:
 177:Src/usbd_iad.c **** 	0x00,								// 59 bInterfaceProtocol:
 178:Src/usbd_iad.c **** 	0x00,								// 60 iInterface:
 179:Src/usbd_iad.c **** 
 180:Src/usbd_iad.c **** 	//Endpoint CDC1 OUT Descriptor
 181:Src/usbd_iad.c **** 	0x07,								// 61 bLength: Endpoint Descriptor size
 182:Src/usbd_iad.c **** 	USB_DESC_TYPE_ENDPOINT,				// 62 bDescriptorType: Endpoint
 183:Src/usbd_iad.c **** 	IAD_CDC1_OUT_EP,					// 63 bEndpointAddress: (OUT1)
 184:Src/usbd_iad.c **** 	0x02,								// 64 bmAttributes: Bulk
 185:Src/usbd_iad.c **** 	LOBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 65 wMaxPacketSize:
 186:Src/usbd_iad.c **** 	HIBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 66
 187:Src/usbd_iad.c **** 	0x00,								// 67 bInterval: ignore for Bulk transfer
 188:Src/usbd_iad.c **** 
 189:Src/usbd_iad.c **** 	//Endpoint CDC1 IN Descriptor
 190:Src/usbd_iad.c **** 	0x07,								// 68 bLength: Endpoint Descriptor size
 191:Src/usbd_iad.c **** 	USB_DESC_TYPE_ENDPOINT,				// 69 bDescriptorType: Endpoint
 192:Src/usbd_iad.c **** 	IAD_CDC1_IN_EP,						// 70 bEndpointAddress: (IN1)
 193:Src/usbd_iad.c **** 	0x02,								// 71 bmAttributes: Bulk
 194:Src/usbd_iad.c **** 	LOBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 72 wMaxPacketSize:
 195:Src/usbd_iad.c **** 	HIBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 73
 196:Src/usbd_iad.c **** 	0x00,								// 74 bInterval
 197:Src/usbd_iad.c **** 
 198:Src/usbd_iad.c **** 	// IAD 2 -> CDC2
 199:Src/usbd_iad.c **** 	0x08,// 75 bLength: Interface Descriptor size
 200:Src/usbd_iad.c **** 	0x0B,								// 76 bDescriptorType: IAD
 201:Src/usbd_iad.c **** 	0x02,								// 77 bFirstInterface
 202:Src/usbd_iad.c **** 	0x02,								// 78 bInterfaceCount
ARM GAS  /tmp/cc1oW4tv.s 			page 5


 203:Src/usbd_iad.c **** 	0x02,								// 79 bFunctionClass: CDC
 204:Src/usbd_iad.c **** 	0x02,								// 80 bFunctionSubClass
 205:Src/usbd_iad.c **** 	0x01,								// 81 bFunctionProtocol
 206:Src/usbd_iad.c **** 	0x02,								// 82 iFunction
 207:Src/usbd_iad.c **** 
 208:Src/usbd_iad.c **** 	//Interface Descriptor
 209:Src/usbd_iad.c **** 	0x09,// 83 bLength: Interface Descriptor size
 210:Src/usbd_iad.c **** 	USB_DESC_TYPE_INTERFACE,			// 84 bDescriptorType: Interface
 211:Src/usbd_iad.c **** 	// Interface descriptor type
 212:Src/usbd_iad.c **** 	0x02,								// 85 bInterfaceNumber: Number of Interface
 213:Src/usbd_iad.c **** 	0x00,								// 86 bAlternateSetting: Alternate setting
 214:Src/usbd_iad.c **** 	0x01,								// 87 bNumEndpoints: One endpoints used
 215:Src/usbd_iad.c **** 	0x02,								// 88 bInterfaceClass: Communication Interface Class
 216:Src/usbd_iad.c **** 	0x02,								// 89 bInterfaceSubClass: Abstract Control Model
 217:Src/usbd_iad.c **** 	0x01,								// 90 bInterfaceProtocol: Common AT commands
 218:Src/usbd_iad.c **** 	0x00,								// 91 iInterface:
 219:Src/usbd_iad.c **** 
 220:Src/usbd_iad.c **** 	//Header Functional Descriptor
 221:Src/usbd_iad.c **** 	0x05,								// 92 bLength: Endpoint Descriptor size
 222:Src/usbd_iad.c **** 	0x24,								// 93 bDescriptorType: CS_INTERFACE
 223:Src/usbd_iad.c **** 	0x00,								// 94 bDescriptorSubtype: Header Func Desc
 224:Src/usbd_iad.c **** 	0x10,								// 95 bcdCDC: spec release number
 225:Src/usbd_iad.c **** 	0x01,								// 96
 226:Src/usbd_iad.c **** 
 227:Src/usbd_iad.c **** 	//Call Managment Functional Descriptor
 228:Src/usbd_iad.c **** 	0x05,								// 97 bFunctionLength
 229:Src/usbd_iad.c **** 	0x24,								// 98 bDescriptorType: CS_INTERFACE
 230:Src/usbd_iad.c **** 	0x01,								// 99 bDescriptorSubtype: Call Management Func Desc
 231:Src/usbd_iad.c **** 	0x00,								// 100 bmCapabilities: D0+D1
 232:Src/usbd_iad.c **** 	0x03,								// 101 !! bDataInterface:
 233:Src/usbd_iad.c **** 
 234:Src/usbd_iad.c **** 	//ACM CDC2 Functional Descriptor
 235:Src/usbd_iad.c **** 	0x04,								// 102 bFunctionLength
 236:Src/usbd_iad.c **** 	0x24,								// 103 bDescriptorType: CS_INTERFACE
 237:Src/usbd_iad.c **** 	0x02,								// 104 bDescriptorSubtype: Abstract Control Management desc
 238:Src/usbd_iad.c **** 	0x02,								// 105 bmCapabilities
 239:Src/usbd_iad.c **** 
 240:Src/usbd_iad.c **** 	//Union Functional Descriptor
 241:Src/usbd_iad.c **** 	0x05,								// 106 bFunctionLength
 242:Src/usbd_iad.c **** 	0x24,								// 107 bDescriptorType: CS_INTERFACE
 243:Src/usbd_iad.c **** 	0x06,								// 108 bDescriptorSubtype: Union func desc
 244:Src/usbd_iad.c **** 	0x02,								// 109 !! bMasterInterface: Communication class interface
 245:Src/usbd_iad.c **** 	0x03,								// 110 !! bSlaveInterface0: Data Class Interface
 246:Src/usbd_iad.c **** 
 247:Src/usbd_iad.c **** 	//Endpoint CDC2 CMD Descriptor
 248:Src/usbd_iad.c **** 	0x07,								// 111 bLength: Endpoint Descriptor size
 249:Src/usbd_iad.c **** 	USB_DESC_TYPE_ENDPOINT,				// 112 bDescriptorType: Endpoint
 250:Src/usbd_iad.c **** 	IAD_CDC2_CMD_EP,					// 113 bEndpointAddress: (IN4)
 251:Src/usbd_iad.c **** 	0x03,								// 114 bmAttributes: Interrupt
 252:Src/usbd_iad.c **** 	LOBYTE(IAD_CDC_CMD_PACKET_SIZE),	// 115 wMaxPacketSize:
 253:Src/usbd_iad.c **** 	HIBYTE(IAD_CDC_CMD_PACKET_SIZE),	// 116
 254:Src/usbd_iad.c **** 	0xFF,								// 117 bInterval:
 255:Src/usbd_iad.c **** 	//---------------------------------------------------------------------------
 256:Src/usbd_iad.c **** 
 257:Src/usbd_iad.c **** 	//Data class interface descriptor
 258:Src/usbd_iad.c **** 	0x09,								// 118 bLength: Endpoint Descriptor size
 259:Src/usbd_iad.c **** 	USB_DESC_TYPE_INTERFACE,			// 119 bDescriptorType:
ARM GAS  /tmp/cc1oW4tv.s 			page 6


 260:Src/usbd_iad.c **** 	0x03,								// 120 bInterfaceNumber: Number of Interface
 261:Src/usbd_iad.c **** 	0x00,								// 121 bAlternateSetting: Alternate setting
 262:Src/usbd_iad.c **** 	0x02,								// 122 bNumEndpoints: Two endpoints used
 263:Src/usbd_iad.c **** 	0x0A,								// 123 bInterfaceClass: CDC
 264:Src/usbd_iad.c **** 	0x00,								// 124 bInterfaceSubClass:
 265:Src/usbd_iad.c **** 	0x00,								// 125 bInterfaceProtocol:
 266:Src/usbd_iad.c **** 	0x00,								// 126 iInterface:
 267:Src/usbd_iad.c **** 
 268:Src/usbd_iad.c **** 	//Endpoint CDC2 OUT Descriptor
 269:Src/usbd_iad.c **** 	0x07,								// 127 bLength: Endpoint Descriptor size
 270:Src/usbd_iad.c **** 	USB_DESC_TYPE_ENDPOINT,				// 128 bDescriptorType: Endpoint
 271:Src/usbd_iad.c **** 	IAD_CDC2_OUT_EP,					// 129 bEndpointAddress: (OUT3)
 272:Src/usbd_iad.c **** 	0x02,								// 130 bmAttributes: Bulk
 273:Src/usbd_iad.c **** 	LOBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 131 wMaxPacketSize:
 274:Src/usbd_iad.c **** 	HIBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 132
 275:Src/usbd_iad.c **** 	0x00,								// 133 bInterval: ignore for Bulk transfer
 276:Src/usbd_iad.c **** 
 277:Src/usbd_iad.c **** 	//Endpoint CDC2 IN Descriptor
 278:Src/usbd_iad.c **** 	0x07,								// 134 bLength: Endpoint Descriptor size
 279:Src/usbd_iad.c **** 	USB_DESC_TYPE_ENDPOINT,				// 135 bDescriptorType: Endpoint
 280:Src/usbd_iad.c **** 	IAD_CDC2_IN_EP,						// 136 bEndpointAddress: (IN3)
 281:Src/usbd_iad.c **** 	0x02,								// 137 bmAttributes: Bulk
 282:Src/usbd_iad.c **** 	LOBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 138 wMaxPacketSize:
 283:Src/usbd_iad.c **** 	HIBYTE(IAD_DATA_FS_MAX_PACKET_SIZE),// 139
 284:Src/usbd_iad.c **** 	0x00,								// 140 bInterval
 285:Src/usbd_iad.c **** };
 286:Src/usbd_iad.c **** 
 287:Src/usbd_iad.c **** /**
 288:Src/usbd_iad.c ****  * @}
 289:Src/usbd_iad.c ****  */
 290:Src/usbd_iad.c **** 
 291:Src/usbd_iad.c **** /** @defgroup USBD_IAD_Private_Functions
 292:Src/usbd_iad.c ****  * @{
 293:Src/usbd_iad.c ****  */
 294:Src/usbd_iad.c **** 
 295:Src/usbd_iad.c **** /**
 296:Src/usbd_iad.c ****  * @brief  USBD_IAD_Init
 297:Src/usbd_iad.c ****  *         Initialize the IAD interface
 298:Src/usbd_iad.c ****  * @param  pdev: device instance
 299:Src/usbd_iad.c ****  * @param  cfgidx: Configuration index
 300:Src/usbd_iad.c ****  * @retval status
 301:Src/usbd_iad.c ****  */
 302:Src/usbd_iad.c **** static uint8_t USBD_IAD_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx) {
 303:Src/usbd_iad.c **** 	uint8_t ret = 0;
 304:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad;
 305:Src/usbd_iad.c **** 
 306:Src/usbd_iad.c **** 	uint16_t size = pdev->dev_speed == USBD_SPEED_HIGH ?
 307:Src/usbd_iad.c **** 		IAD_DATA_FS_IN_PACKET_SIZE : IAD_DATA_FS_IN_PACKET_SIZE;
 308:Src/usbd_iad.c **** 
 309:Src/usbd_iad.c **** 	/* CDC1 */
 310:Src/usbd_iad.c **** 	/* Open EP IN */
 311:Src/usbd_iad.c **** 	USBD_LL_OpenEP(pdev,
 312:Src/usbd_iad.c **** 		IAD_CDC1_IN_EP,
 313:Src/usbd_iad.c **** 		USBD_EP_TYPE_BULK,
 314:Src/usbd_iad.c **** 		size);
 315:Src/usbd_iad.c **** 	/* Open EP OUT */
 316:Src/usbd_iad.c **** 	USBD_LL_OpenEP(pdev,
ARM GAS  /tmp/cc1oW4tv.s 			page 7


 317:Src/usbd_iad.c **** 		IAD_CDC1_OUT_EP,
 318:Src/usbd_iad.c **** 		USBD_EP_TYPE_BULK,
 319:Src/usbd_iad.c **** 		size);
 320:Src/usbd_iad.c **** 	/* Open Command IN EP */
 321:Src/usbd_iad.c **** 	USBD_LL_OpenEP(pdev,
 322:Src/usbd_iad.c **** 		IAD_CDC1_CMD_EP,
 323:Src/usbd_iad.c **** 		USBD_EP_TYPE_INTR,
 324:Src/usbd_iad.c **** 		IAD_CDC_CMD_PACKET_SIZE);
 325:Src/usbd_iad.c **** 
 326:Src/usbd_iad.c **** 	/* CDC2 */
 327:Src/usbd_iad.c **** 	/* Open EP IN */
 328:Src/usbd_iad.c **** 	USBD_LL_OpenEP(pdev,
 329:Src/usbd_iad.c **** 		IAD_CDC2_IN_EP,
 330:Src/usbd_iad.c **** 		USBD_EP_TYPE_BULK,
 331:Src/usbd_iad.c **** 		size);
 332:Src/usbd_iad.c **** 	/* Open EP OUT */
 333:Src/usbd_iad.c **** 	USBD_LL_OpenEP(pdev,
 334:Src/usbd_iad.c **** 		IAD_CDC2_OUT_EP,
 335:Src/usbd_iad.c **** 		USBD_EP_TYPE_BULK,
 336:Src/usbd_iad.c **** 		size);
 337:Src/usbd_iad.c **** 	/* Open CDC2 Command IN EP */
 338:Src/usbd_iad.c **** 	USBD_LL_OpenEP(pdev,
 339:Src/usbd_iad.c **** 		IAD_CDC2_CMD_EP,
 340:Src/usbd_iad.c **** 		USBD_EP_TYPE_INTR,
 341:Src/usbd_iad.c **** 		IAD_CDC_CMD_PACKET_SIZE);
 342:Src/usbd_iad.c **** 
 343:Src/usbd_iad.c **** 	pdev->pClassData = USBD_malloc(sizeof(USBD_IAD_HandleTypeDef));
 344:Src/usbd_iad.c **** 
 345:Src/usbd_iad.c **** 	if (pdev->pClassData == NULL) {
 346:Src/usbd_iad.c **** 		ret = 1;
 347:Src/usbd_iad.c **** 	} else {
 348:Src/usbd_iad.c **** 		hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 349:Src/usbd_iad.c **** 
 350:Src/usbd_iad.c **** 		/* Init  physical Interface components */
 351:Src/usbd_iad.c **** 		((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Init();
 352:Src/usbd_iad.c **** 
 353:Src/usbd_iad.c **** 		/* Init Xfer states */
 354:Src/usbd_iad.c **** 		hiad->cdc1.TxState = 0;
 355:Src/usbd_iad.c **** 		hiad->cdc1.RxState = 0;
 356:Src/usbd_iad.c **** 		hiad->cdc2.TxState = 0;
 357:Src/usbd_iad.c **** 		hiad->cdc2.RxState = 0;
 358:Src/usbd_iad.c **** 
 359:Src/usbd_iad.c **** 		/* Prepare Out endpoint to receive next packet */
 360:Src/usbd_iad.c **** 		USBD_LL_PrepareReceive(pdev,
 361:Src/usbd_iad.c **** 			IAD_CDC1_OUT_EP, hiad->cdc1.RxBuffer,
 362:Src/usbd_iad.c **** 			size);
 363:Src/usbd_iad.c **** 		USBD_LL_PrepareReceive(pdev,
 364:Src/usbd_iad.c **** 			IAD_CDC2_OUT_EP, hiad->cdc2.RxBuffer,
 365:Src/usbd_iad.c **** 			size);
 366:Src/usbd_iad.c **** 	}
 367:Src/usbd_iad.c **** 	return ret;
 368:Src/usbd_iad.c **** }
 369:Src/usbd_iad.c **** 
 370:Src/usbd_iad.c **** /**
 371:Src/usbd_iad.c ****  * @brief  USBD_IAD_Init
 372:Src/usbd_iad.c ****  *         DeInitialize the IAD layer
 373:Src/usbd_iad.c ****  * @param  pdev: device instance
ARM GAS  /tmp/cc1oW4tv.s 			page 8


 374:Src/usbd_iad.c ****  * @param  cfgidx: Configuration index
 375:Src/usbd_iad.c ****  * @retval status
 376:Src/usbd_iad.c ****  */
 377:Src/usbd_iad.c **** static uint8_t USBD_IAD_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx) {
 378:Src/usbd_iad.c **** 	uint8_t ret = 0;
 379:Src/usbd_iad.c **** 
 380:Src/usbd_iad.c **** 	/* CDC1 */
 381:Src/usbd_iad.c **** 	/* Open EP IN */
 382:Src/usbd_iad.c **** 	USBD_LL_CloseEP(pdev,
 383:Src/usbd_iad.c **** 		IAD_CDC1_IN_EP);
 384:Src/usbd_iad.c **** 	/* Open EP OUT */
 385:Src/usbd_iad.c **** 	USBD_LL_CloseEP(pdev,
 386:Src/usbd_iad.c **** 		IAD_CDC1_OUT_EP);
 387:Src/usbd_iad.c **** 	/* Open Command IN EP */
 388:Src/usbd_iad.c **** 	USBD_LL_CloseEP(pdev,
 389:Src/usbd_iad.c **** 		IAD_CDC1_CMD_EP);
 390:Src/usbd_iad.c **** 
 391:Src/usbd_iad.c **** 	/* CDC2 */
 392:Src/usbd_iad.c **** 	/* Open EP IN */
 393:Src/usbd_iad.c **** 	USBD_LL_CloseEP(pdev,
 394:Src/usbd_iad.c **** 		IAD_CDC2_IN_EP);
 395:Src/usbd_iad.c **** 	/* Open EP OUT */
 396:Src/usbd_iad.c **** 	USBD_LL_CloseEP(pdev,
 397:Src/usbd_iad.c **** 		IAD_CDC2_OUT_EP);
 398:Src/usbd_iad.c **** 	/* Open Command IN EP */
 399:Src/usbd_iad.c **** 	USBD_LL_CloseEP(pdev,
 400:Src/usbd_iad.c **** 		IAD_CDC2_CMD_EP);
 401:Src/usbd_iad.c **** 
 402:Src/usbd_iad.c **** 	/* DeInit  physical Interface components */
 403:Src/usbd_iad.c **** 	if (pdev->pClassData != NULL) {
 404:Src/usbd_iad.c **** 		((USBD_IAD_ItfTypeDef *) pdev->pUserData)->DeInit();
 405:Src/usbd_iad.c **** 		USBD_free(pdev->pClassData);
 406:Src/usbd_iad.c **** 		pdev->pClassData = NULL;
 407:Src/usbd_iad.c **** 	}
 408:Src/usbd_iad.c **** 
 409:Src/usbd_iad.c **** 	return ret;
 410:Src/usbd_iad.c **** }
 411:Src/usbd_iad.c **** 
 412:Src/usbd_iad.c **** /**
 413:Src/usbd_iad.c ****  * @brief  USBD_IAD_Setup
 414:Src/usbd_iad.c ****  *         Handle the IAD specific requests
 415:Src/usbd_iad.c ****  * @param  pdev: instance
 416:Src/usbd_iad.c ****  * @param  req: usb requests
 417:Src/usbd_iad.c ****  * @retval status
 418:Src/usbd_iad.c ****  */
 419:Src/usbd_iad.c **** static uint8_t USBD_IAD_Setup(USBD_HandleTypeDef *pdev,
 420:Src/usbd_iad.c **** 		USBD_SetupReqTypedef *req) {
 421:Src/usbd_iad.c **** 
 422:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 423:Src/usbd_iad.c **** 	static uint8_t ifalt = 0;
 424:Src/usbd_iad.c **** 
 425:Src/usbd_iad.c **** 	switch (req->bmRequest & USB_REQ_TYPE_MASK) {
 426:Src/usbd_iad.c **** 	case USB_REQ_TYPE_CLASS:
 427:Src/usbd_iad.c **** 		if (req->wLength) {
 428:Src/usbd_iad.c **** 			if (req->bmRequest & 0x80) {
 429:Src/usbd_iad.c **** 				((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Control(
 430:Src/usbd_iad.c **** 						req->bRequest, (uint8_t *) hiad->data, req->wLength);
ARM GAS  /tmp/cc1oW4tv.s 			page 9


 431:Src/usbd_iad.c **** 				USBD_CtlSendData(pdev, (uint8_t *) hiad->data, req->wLength);
 432:Src/usbd_iad.c **** 			} else {
 433:Src/usbd_iad.c **** 				hiad->CmdOpCode = req->bRequest;
 434:Src/usbd_iad.c **** 				hiad->CmdLength = req->wLength;
 435:Src/usbd_iad.c **** 
 436:Src/usbd_iad.c **** 				USBD_CtlPrepareRx(pdev, (uint8_t *) hiad->data, req->wLength);
 437:Src/usbd_iad.c **** 			}
 438:Src/usbd_iad.c **** 
 439:Src/usbd_iad.c **** 		} else {
 440:Src/usbd_iad.c **** 			((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Control(req->bRequest,
 441:Src/usbd_iad.c **** 					(uint8_t*) req, 0);
 442:Src/usbd_iad.c **** 		}
 443:Src/usbd_iad.c **** 		break;
 444:Src/usbd_iad.c **** 
 445:Src/usbd_iad.c **** 	case USB_REQ_TYPE_STANDARD:
 446:Src/usbd_iad.c **** 		switch (req->bRequest) {
 447:Src/usbd_iad.c **** 		case USB_REQ_GET_INTERFACE:
 448:Src/usbd_iad.c **** 			USBD_CtlSendData(pdev, &ifalt, 1);
 449:Src/usbd_iad.c **** 			break;
 450:Src/usbd_iad.c **** 
 451:Src/usbd_iad.c **** 		case USB_REQ_SET_INTERFACE:
 452:Src/usbd_iad.c **** 			break;
 453:Src/usbd_iad.c **** 		}
 454:Src/usbd_iad.c **** 		break;
 455:Src/usbd_iad.c **** 
 456:Src/usbd_iad.c **** 	default:
 457:Src/usbd_iad.c **** 		break;
 458:Src/usbd_iad.c **** 	}
 459:Src/usbd_iad.c **** 	return USBD_OK;
 460:Src/usbd_iad.c **** }
 461:Src/usbd_iad.c **** 
 462:Src/usbd_iad.c **** /**
 463:Src/usbd_iad.c ****  * @brief  USBD_IAD_DataIn
 464:Src/usbd_iad.c ****  *         Data sent on non-control IN endpoint
 465:Src/usbd_iad.c ****  * @param  pdev: device instance
 466:Src/usbd_iad.c ****  * @param  epnum: endpoint number
 467:Src/usbd_iad.c ****  * @retval status
 468:Src/usbd_iad.c ****  */
 469:Src/usbd_iad.c **** static uint8_t USBD_IAD_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum) {
  28              		.loc 1 469 73 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 470:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
  33              		.loc 1 470 2 view .LVU1
  34              		.loc 1 470 26 is_stmt 0 view .LVU2
  35 0000 D0F8BC32 		ldr	r3, [r0, #700]
  36              	.LVL1:
 471:Src/usbd_iad.c **** 
 472:Src/usbd_iad.c **** 	if (pdev->pClassData != NULL) {
  37              		.loc 1 472 2 is_stmt 1 view .LVU3
  38              		.loc 1 472 5 is_stmt 0 view .LVU4
  39 0004 53B1     		cbz	r3, .L5
 473:Src/usbd_iad.c **** 		if (epnum == IAD_CDC1_IN_EP || epnum == IAD_CDC1_OUT_EP)
  40              		.loc 1 473 3 is_stmt 1 view .LVU5
  41              		.loc 1 473 6 is_stmt 0 view .LVU6
ARM GAS  /tmp/cc1oW4tv.s 			page 10


  42 0006 0129     		cmp	r1, #1
  43 0008 18BF     		it	ne
  44 000a 8129     		cmpne	r1, #129
  45 000c 03D1     		bne	.L3
 474:Src/usbd_iad.c **** 			hiad->cdc1.TxState = 0;
  46              		.loc 1 474 4 is_stmt 1 view .LVU7
  47              		.loc 1 474 23 is_stmt 0 view .LVU8
  48 000e 0022     		movs	r2, #0
  49 0010 5A65     		str	r2, [r3, #84]
  50              	.L4:
 475:Src/usbd_iad.c **** 		else
 476:Src/usbd_iad.c **** 			hiad->cdc2.TxState = 0;
 477:Src/usbd_iad.c **** 		return USBD_OK;
  51              		.loc 1 477 3 is_stmt 1 view .LVU9
  52              		.loc 1 477 10 is_stmt 0 view .LVU10
  53 0012 0020     		movs	r0, #0
  54              	.LVL2:
  55              		.loc 1 477 10 view .LVU11
  56 0014 7047     		bx	lr
  57              	.LVL3:
  58              	.L3:
 476:Src/usbd_iad.c **** 		return USBD_OK;
  59              		.loc 1 476 4 is_stmt 1 view .LVU12
 476:Src/usbd_iad.c **** 		return USBD_OK;
  60              		.loc 1 476 23 is_stmt 0 view .LVU13
  61 0016 0022     		movs	r2, #0
  62 0018 DA66     		str	r2, [r3, #108]
  63 001a FAE7     		b	.L4
  64              	.L5:
 478:Src/usbd_iad.c **** 	} else {
 479:Src/usbd_iad.c **** 		return USBD_FAIL;
  65              		.loc 1 479 10 view .LVU14
  66 001c 0320     		movs	r0, #3
  67              	.LVL4:
 480:Src/usbd_iad.c **** 	}
 481:Src/usbd_iad.c **** }
  68              		.loc 1 481 1 view .LVU15
  69 001e 7047     		bx	lr
  70              		.cfi_endproc
  71              	.LFE148:
  73              		.section	.text.USBD_IAD_EP0_RxReady,"ax",%progbits
  74              		.align	1
  75              		.syntax unified
  76              		.thumb
  77              		.thumb_func
  78              		.fpu fpv5-d16
  80              	USBD_IAD_EP0_RxReady:
  81              	.LVL5:
  82              	.LFB150:
 482:Src/usbd_iad.c **** 
 483:Src/usbd_iad.c **** /**
 484:Src/usbd_iad.c ****  * @brief  USBD_IAD_DataOut
 485:Src/usbd_iad.c ****  *         Data received on non-control Out endpoint
 486:Src/usbd_iad.c ****  * @param  pdev: device instance
 487:Src/usbd_iad.c ****  * @param  epnum: endpoint number
 488:Src/usbd_iad.c ****  * @retval status
 489:Src/usbd_iad.c ****  */
ARM GAS  /tmp/cc1oW4tv.s 			page 11


 490:Src/usbd_iad.c **** static uint8_t USBD_IAD_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum) {
 491:Src/usbd_iad.c **** 
 492:Src/usbd_iad.c **** 	/* USB data will be immediately processed, this allow next USB traffic being
 493:Src/usbd_iad.c **** 	 NAKed till the end of the application Xfer */
 494:Src/usbd_iad.c **** 	if (pdev->pClassData != NULL) {
 495:Src/usbd_iad.c **** 		USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 496:Src/usbd_iad.c **** 
 497:Src/usbd_iad.c **** 		if (epnum == IAD_CDC1_IN_EP || epnum == IAD_CDC1_OUT_EP) {
 498:Src/usbd_iad.c **** 			/* Get the received data length */
 499:Src/usbd_iad.c **** 			hiad->cdc1.RxLength = USBD_LL_GetRxDataSize(pdev, epnum);
 500:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 501:Src/usbd_iad.c **** 			   NAKed till the end of the application Xfer */
 502:Src/usbd_iad.c **** 			((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Receive_CDC1(
 503:Src/usbd_iad.c **** 					hiad->cdc1.RxBuffer, &hiad->cdc1.RxLength);
 504:Src/usbd_iad.c **** 
 505:Src/usbd_iad.c **** 		} else {
 506:Src/usbd_iad.c **** 			/* Get the received data length */
 507:Src/usbd_iad.c **** 			hiad->cdc2.RxLength = USBD_LL_GetRxDataSize(pdev, epnum);
 508:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 509:Src/usbd_iad.c **** 			   NAKed till the end of the application Xfer */
 510:Src/usbd_iad.c **** 			((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Receive_CDC2(
 511:Src/usbd_iad.c **** 					hiad->cdc2.RxBuffer, &hiad->cdc2.RxLength);
 512:Src/usbd_iad.c **** 		}
 513:Src/usbd_iad.c **** 		return USBD_OK;
 514:Src/usbd_iad.c **** 	} else {
 515:Src/usbd_iad.c **** 		return USBD_FAIL;
 516:Src/usbd_iad.c **** 	}
 517:Src/usbd_iad.c **** }
 518:Src/usbd_iad.c **** 
 519:Src/usbd_iad.c **** /**
 520:Src/usbd_iad.c ****  * @brief  USBD_IAD_DataOut
 521:Src/usbd_iad.c ****  *         Data received on non-control Out endpoint
 522:Src/usbd_iad.c ****  * @param  pdev: device instance
 523:Src/usbd_iad.c ****  * @param  epnum: endpoint number
 524:Src/usbd_iad.c ****  * @retval status
 525:Src/usbd_iad.c ****  */
 526:Src/usbd_iad.c **** static uint8_t USBD_IAD_EP0_RxReady(USBD_HandleTypeDef *pdev) {
  83              		.loc 1 526 63 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		.loc 1 526 63 is_stmt 0 view .LVU17
  88 0000 10B5     		push	{r4, lr}
  89              	.LCFI0:
  90              		.cfi_def_cfa_offset 8
  91              		.cfi_offset 4, -8
  92              		.cfi_offset 14, -4
 527:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
  93              		.loc 1 527 2 is_stmt 1 view .LVU18
  94              		.loc 1 527 26 is_stmt 0 view .LVU19
  95 0002 D0F8BC42 		ldr	r4, [r0, #700]
  96              	.LVL6:
 528:Src/usbd_iad.c **** 
 529:Src/usbd_iad.c **** 	if ((pdev->pUserData != NULL) && (hiad->CmdOpCode != 0xFF)) {
  97              		.loc 1 529 2 is_stmt 1 view .LVU20
  98              		.loc 1 529 11 is_stmt 0 view .LVU21
  99 0006 D0F8C032 		ldr	r3, [r0, #704]
ARM GAS  /tmp/cc1oW4tv.s 			page 12


 100              		.loc 1 529 5 view .LVU22
 101 000a 5BB1     		cbz	r3, .L7
 102              		.loc 1 529 40 discriminator 1 view .LVU23
 103 000c 94F84000 		ldrb	r0, [r4, #64]	@ zero_extendqisi2
 104              	.LVL7:
 105              		.loc 1 529 32 discriminator 1 view .LVU24
 106 0010 FF28     		cmp	r0, #255
 107 0012 07D0     		beq	.L7
 530:Src/usbd_iad.c **** 		((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Control(hiad->CmdOpCode,
 108              		.loc 1 530 3 is_stmt 1 view .LVU25
 109              		.loc 1 530 44 is_stmt 0 view .LVU26
 110 0014 9B68     		ldr	r3, [r3, #8]
 111              		.loc 1 530 4 view .LVU27
 112 0016 94F84120 		ldrb	r2, [r4, #65]	@ zero_extendqisi2
 113 001a 2146     		mov	r1, r4
 114 001c 9847     		blx	r3
 115              	.LVL8:
 531:Src/usbd_iad.c **** 				(uint8_t *) hiad->data, hiad->CmdLength);
 532:Src/usbd_iad.c **** 		hiad->CmdOpCode = 0xFF;
 116              		.loc 1 532 3 is_stmt 1 view .LVU28
 117              		.loc 1 532 19 is_stmt 0 view .LVU29
 118 001e FF23     		movs	r3, #255
 119 0020 84F84030 		strb	r3, [r4, #64]
 120              	.L7:
 533:Src/usbd_iad.c **** 
 534:Src/usbd_iad.c **** 	}
 535:Src/usbd_iad.c **** 	return USBD_OK;
 121              		.loc 1 535 2 is_stmt 1 view .LVU30
 536:Src/usbd_iad.c **** }
 122              		.loc 1 536 1 is_stmt 0 view .LVU31
 123 0024 0020     		movs	r0, #0
 124 0026 10BD     		pop	{r4, pc}
 125              		.loc 1 536 1 view .LVU32
 126              		.cfi_endproc
 127              	.LFE150:
 129              		.section	.text.USBD_IAD_GetFSCfgDesc,"ax",%progbits
 130              		.align	1
 131              		.syntax unified
 132              		.thumb
 133              		.thumb_func
 134              		.fpu fpv5-d16
 136              	USBD_IAD_GetFSCfgDesc:
 137              	.LVL9:
 138              	.LFB151:
 537:Src/usbd_iad.c **** 
 538:Src/usbd_iad.c **** /**
 539:Src/usbd_iad.c ****  * @brief  USBD_IAD_GetFSCfgDesc
 540:Src/usbd_iad.c ****  *         Return configuration descriptor
 541:Src/usbd_iad.c ****  * @param  speed : current device speed
 542:Src/usbd_iad.c ****  * @param  length : pointer data length
 543:Src/usbd_iad.c ****  * @retval pointer to descriptor buffer
 544:Src/usbd_iad.c ****  */
 545:Src/usbd_iad.c **** static uint8_t *USBD_IAD_GetFSCfgDesc(uint16_t *length) {
 139              		.loc 1 545 57 is_stmt 1 view -0
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 0
 142              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc1oW4tv.s 			page 13


 143              		@ link register save eliminated.
 546:Src/usbd_iad.c **** 	*length = sizeof(USBD_IAD_CfgFSDesc);
 144              		.loc 1 546 2 view .LVU34
 145              		.loc 1 546 10 is_stmt 0 view .LVU35
 146 0000 8D23     		movs	r3, #141
 147 0002 0380     		strh	r3, [r0]	@ movhi
 547:Src/usbd_iad.c **** 	return USBD_IAD_CfgFSDesc;
 148              		.loc 1 547 2 is_stmt 1 view .LVU36
 548:Src/usbd_iad.c **** }
 149              		.loc 1 548 1 is_stmt 0 view .LVU37
 150 0004 0048     		ldr	r0, .L10
 151              	.LVL10:
 152              		.loc 1 548 1 view .LVU38
 153 0006 7047     		bx	lr
 154              	.L11:
 155              		.align	2
 156              	.L10:
 157 0008 00000000 		.word	.LANCHOR0
 158              		.cfi_endproc
 159              	.LFE151:
 161              		.section	.text.USBD_IAD_GetOtherSpeedCfgDesc,"ax",%progbits
 162              		.align	1
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 166              		.fpu fpv5-d16
 168              	USBD_IAD_GetOtherSpeedCfgDesc:
 169              	.LVL11:
 170              	.LFB152:
 549:Src/usbd_iad.c **** 
 550:Src/usbd_iad.c **** /**
 551:Src/usbd_iad.c ****  * @brief  USBD_IAD_GetHSCfgDesc
 552:Src/usbd_iad.c ****  *         Return configuration descriptor
 553:Src/usbd_iad.c ****  * @param  speed : current device speed
 554:Src/usbd_iad.c ****  * @param  length : pointer data length
 555:Src/usbd_iad.c ****  * @retval pointer to descriptor buffer
 556:Src/usbd_iad.c **** 
 557:Src/usbd_iad.c **** static uint8_t *USBD_IAD_GetHSCfgDesc(uint16_t *length) {
 558:Src/usbd_iad.c **** 	*length = sizeof(USBD_IAD_CfgHSDesc);
 559:Src/usbd_iad.c **** 	return USBD_IAD_CfgHSDesc;
 560:Src/usbd_iad.c **** }
 561:Src/usbd_iad.c **** */
 562:Src/usbd_iad.c **** /**
 563:Src/usbd_iad.c ****  * @brief  USBD_IAD_GetCfgDesc
 564:Src/usbd_iad.c ****  *         Return configuration descriptor
 565:Src/usbd_iad.c ****  * @param  speed : current device speed
 566:Src/usbd_iad.c ****  * @param  length : pointer data length
 567:Src/usbd_iad.c ****  * @retval pointer to descriptor buffer
 568:Src/usbd_iad.c ****  */
 569:Src/usbd_iad.c **** static uint8_t *USBD_IAD_GetOtherSpeedCfgDesc(uint16_t *length) {
 171              		.loc 1 569 65 is_stmt 1 view -0
 172              		.cfi_startproc
 173              		@ args = 0, pretend = 0, frame = 0
 174              		@ frame_needed = 0, uses_anonymous_args = 0
 175              		@ link register save eliminated.
 570:Src/usbd_iad.c **** 	*length = sizeof(USBD_IAD_CfgFSDesc);
 176              		.loc 1 570 2 view .LVU40
ARM GAS  /tmp/cc1oW4tv.s 			page 14


 177              		.loc 1 570 10 is_stmt 0 view .LVU41
 178 0000 8D23     		movs	r3, #141
 179 0002 0380     		strh	r3, [r0]	@ movhi
 571:Src/usbd_iad.c **** 	return USBD_IAD_CfgFSDesc;
 180              		.loc 1 571 2 is_stmt 1 view .LVU42
 572:Src/usbd_iad.c **** }
 181              		.loc 1 572 1 is_stmt 0 view .LVU43
 182 0004 0048     		ldr	r0, .L13
 183              	.LVL12:
 184              		.loc 1 572 1 view .LVU44
 185 0006 7047     		bx	lr
 186              	.L14:
 187              		.align	2
 188              	.L13:
 189 0008 00000000 		.word	.LANCHOR0
 190              		.cfi_endproc
 191              	.LFE152:
 193              		.section	.text.USBD_IAD_GetDeviceQualifierDescriptor,"ax",%progbits
 194              		.align	1
 195              		.global	USBD_IAD_GetDeviceQualifierDescriptor
 196              		.syntax unified
 197              		.thumb
 198              		.thumb_func
 199              		.fpu fpv5-d16
 201              	USBD_IAD_GetDeviceQualifierDescriptor:
 202              	.LVL13:
 203              	.LFB153:
 573:Src/usbd_iad.c **** 
 574:Src/usbd_iad.c **** /**
 575:Src/usbd_iad.c ****  * @brief  DeviceQualifierDescriptor
 576:Src/usbd_iad.c ****  *         return Device Qualifier descriptor
 577:Src/usbd_iad.c ****  * @param  length : pointer data length
 578:Src/usbd_iad.c ****  * @retval pointer to descriptor buffer
 579:Src/usbd_iad.c ****  */
 580:Src/usbd_iad.c **** uint8_t *USBD_IAD_GetDeviceQualifierDescriptor(uint16_t *length) {
 204              		.loc 1 580 66 is_stmt 1 view -0
 205              		.cfi_startproc
 206              		@ args = 0, pretend = 0, frame = 0
 207              		@ frame_needed = 0, uses_anonymous_args = 0
 208              		@ link register save eliminated.
 581:Src/usbd_iad.c **** 	*length = sizeof(USBD_IAD_DeviceQualifierDesc);
 209              		.loc 1 581 2 view .LVU46
 210              		.loc 1 581 10 is_stmt 0 view .LVU47
 211 0000 0A23     		movs	r3, #10
 212 0002 0380     		strh	r3, [r0]	@ movhi
 582:Src/usbd_iad.c **** 	return USBD_IAD_DeviceQualifierDesc;
 213              		.loc 1 582 2 is_stmt 1 view .LVU48
 583:Src/usbd_iad.c **** }
 214              		.loc 1 583 1 is_stmt 0 view .LVU49
 215 0004 0048     		ldr	r0, .L16
 216              	.LVL14:
 217              		.loc 1 583 1 view .LVU50
 218 0006 7047     		bx	lr
 219              	.L17:
 220              		.align	2
 221              	.L16:
 222 0008 00000000 		.word	.LANCHOR1
ARM GAS  /tmp/cc1oW4tv.s 			page 15


 223              		.cfi_endproc
 224              	.LFE153:
 226              		.section	.text.USBD_IAD_DataOut,"ax",%progbits
 227              		.align	1
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 231              		.fpu fpv5-d16
 233              	USBD_IAD_DataOut:
 234              	.LVL15:
 235              	.LFB149:
 490:Src/usbd_iad.c **** 
 236              		.loc 1 490 74 is_stmt 1 view -0
 237              		.cfi_startproc
 238              		@ args = 0, pretend = 0, frame = 0
 239              		@ frame_needed = 0, uses_anonymous_args = 0
 490:Src/usbd_iad.c **** 
 240              		.loc 1 490 74 is_stmt 0 view .LVU52
 241 0000 38B5     		push	{r3, r4, r5, lr}
 242              	.LCFI1:
 243              		.cfi_def_cfa_offset 16
 244              		.cfi_offset 3, -16
 245              		.cfi_offset 4, -12
 246              		.cfi_offset 5, -8
 247              		.cfi_offset 14, -4
 494:Src/usbd_iad.c **** 		USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 248              		.loc 1 494 2 is_stmt 1 view .LVU53
 494:Src/usbd_iad.c **** 		USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 249              		.loc 1 494 10 is_stmt 0 view .LVU54
 250 0002 D0F8BC52 		ldr	r5, [r0, #700]
 494:Src/usbd_iad.c **** 		USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 251              		.loc 1 494 5 view .LVU55
 252 0006 DDB1     		cbz	r5, .L22
 253 0008 0446     		mov	r4, r0
 254              	.LBB2:
 495:Src/usbd_iad.c **** 
 255              		.loc 1 495 3 is_stmt 1 view .LVU56
 256              	.LVL16:
 497:Src/usbd_iad.c **** 			/* Get the received data length */
 257              		.loc 1 497 3 view .LVU57
 497:Src/usbd_iad.c **** 			/* Get the received data length */
 258              		.loc 1 497 6 is_stmt 0 view .LVU58
 259 000a 0129     		cmp	r1, #1
 260 000c 18BF     		it	ne
 261 000e 8129     		cmpne	r1, #129
 262 0010 0BD1     		bne	.L20
 499:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 263              		.loc 1 499 4 is_stmt 1 view .LVU59
 499:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 264              		.loc 1 499 26 is_stmt 0 view .LVU60
 265 0012 FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 266              	.LVL17:
 499:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 267              		.loc 1 499 24 view .LVU61
 268 0016 2946     		mov	r1, r5
 269 0018 41F84C0F 		str	r0, [r1, #76]!
 502:Src/usbd_iad.c **** 					hiad->cdc1.RxBuffer, &hiad->cdc1.RxLength);
ARM GAS  /tmp/cc1oW4tv.s 			page 16


 270              		.loc 1 502 4 is_stmt 1 view .LVU62
 502:Src/usbd_iad.c **** 					hiad->cdc1.RxBuffer, &hiad->cdc1.RxLength);
 271              		.loc 1 502 33 is_stmt 0 view .LVU63
 272 001c D4F8C032 		ldr	r3, [r4, #704]
 502:Src/usbd_iad.c **** 					hiad->cdc1.RxBuffer, &hiad->cdc1.RxLength);
 273              		.loc 1 502 45 view .LVU64
 274 0020 DB68     		ldr	r3, [r3, #12]
 502:Src/usbd_iad.c **** 					hiad->cdc1.RxBuffer, &hiad->cdc1.RxLength);
 275              		.loc 1 502 5 view .LVU65
 276 0022 686C     		ldr	r0, [r5, #68]
 277 0024 9847     		blx	r3
 278              	.LVL18:
 279              	.L21:
 513:Src/usbd_iad.c **** 	} else {
 280              		.loc 1 513 3 is_stmt 1 view .LVU66
 513:Src/usbd_iad.c **** 	} else {
 281              		.loc 1 513 10 is_stmt 0 view .LVU67
 282 0026 0020     		movs	r0, #0
 283              	.LVL19:
 284              	.L19:
 513:Src/usbd_iad.c **** 	} else {
 285              		.loc 1 513 10 view .LVU68
 286              	.LBE2:
 517:Src/usbd_iad.c **** 
 287              		.loc 1 517 1 view .LVU69
 288 0028 38BD     		pop	{r3, r4, r5, pc}
 289              	.LVL20:
 290              	.L20:
 291              	.LBB3:
 507:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 292              		.loc 1 507 4 is_stmt 1 view .LVU70
 507:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 293              		.loc 1 507 26 is_stmt 0 view .LVU71
 294 002a FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 295              	.LVL21:
 507:Src/usbd_iad.c **** 			/* USB data will be immediately processed, this allow next USB traffic being
 296              		.loc 1 507 24 view .LVU72
 297 002e 2946     		mov	r1, r5
 298 0030 41F8640F 		str	r0, [r1, #100]!
 510:Src/usbd_iad.c **** 					hiad->cdc2.RxBuffer, &hiad->cdc2.RxLength);
 299              		.loc 1 510 4 is_stmt 1 view .LVU73
 510:Src/usbd_iad.c **** 					hiad->cdc2.RxBuffer, &hiad->cdc2.RxLength);
 300              		.loc 1 510 33 is_stmt 0 view .LVU74
 301 0034 D4F8C032 		ldr	r3, [r4, #704]
 510:Src/usbd_iad.c **** 					hiad->cdc2.RxBuffer, &hiad->cdc2.RxLength);
 302              		.loc 1 510 45 view .LVU75
 303 0038 1B69     		ldr	r3, [r3, #16]
 510:Src/usbd_iad.c **** 					hiad->cdc2.RxBuffer, &hiad->cdc2.RxLength);
 304              		.loc 1 510 5 view .LVU76
 305 003a E86D     		ldr	r0, [r5, #92]
 306 003c 9847     		blx	r3
 307              	.LVL22:
 308 003e F2E7     		b	.L21
 309              	.LVL23:
 310              	.L22:
 510:Src/usbd_iad.c **** 					hiad->cdc2.RxBuffer, &hiad->cdc2.RxLength);
 311              		.loc 1 510 5 view .LVU77
ARM GAS  /tmp/cc1oW4tv.s 			page 17


 312              	.LBE3:
 515:Src/usbd_iad.c **** 	}
 313              		.loc 1 515 10 view .LVU78
 314 0040 0320     		movs	r0, #3
 315              	.LVL24:
 515:Src/usbd_iad.c **** 	}
 316              		.loc 1 515 10 view .LVU79
 317 0042 F1E7     		b	.L19
 318              		.cfi_endproc
 319              	.LFE149:
 321              		.section	.text.USBD_IAD_Setup,"ax",%progbits
 322              		.align	1
 323              		.syntax unified
 324              		.thumb
 325              		.thumb_func
 326              		.fpu fpv5-d16
 328              	USBD_IAD_Setup:
 329              	.LVL25:
 330              	.LFB147:
 420:Src/usbd_iad.c **** 
 331              		.loc 1 420 30 is_stmt 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 420:Src/usbd_iad.c **** 
 335              		.loc 1 420 30 is_stmt 0 view .LVU81
 336 0000 70B5     		push	{r4, r5, r6, lr}
 337              	.LCFI2:
 338              		.cfi_def_cfa_offset 16
 339              		.cfi_offset 4, -16
 340              		.cfi_offset 5, -12
 341              		.cfi_offset 6, -8
 342              		.cfi_offset 14, -4
 343 0002 0546     		mov	r5, r0
 344 0004 0C46     		mov	r4, r1
 422:Src/usbd_iad.c **** 	static uint8_t ifalt = 0;
 345              		.loc 1 422 2 is_stmt 1 view .LVU82
 422:Src/usbd_iad.c **** 	static uint8_t ifalt = 0;
 346              		.loc 1 422 26 is_stmt 0 view .LVU83
 347 0006 D0F8BC62 		ldr	r6, [r0, #700]
 348              	.LVL26:
 423:Src/usbd_iad.c **** 
 349              		.loc 1 423 2 is_stmt 1 view .LVU84
 425:Src/usbd_iad.c **** 	case USB_REQ_TYPE_CLASS:
 350              		.loc 1 425 2 view .LVU85
 425:Src/usbd_iad.c **** 	case USB_REQ_TYPE_CLASS:
 351              		.loc 1 425 13 is_stmt 0 view .LVU86
 352 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 425:Src/usbd_iad.c **** 	case USB_REQ_TYPE_CLASS:
 353              		.loc 1 425 2 view .LVU87
 354 000c 13F06002 		ands	r2, r3, #96
 355 0010 24D0     		beq	.L25
 356 0012 202A     		cmp	r2, #32
 357 0014 25D1     		bne	.L26
 427:Src/usbd_iad.c **** 			if (req->bmRequest & 0x80) {
 358              		.loc 1 427 3 is_stmt 1 view .LVU88
 427:Src/usbd_iad.c **** 			if (req->bmRequest & 0x80) {
ARM GAS  /tmp/cc1oW4tv.s 			page 18


 359              		.loc 1 427 10 is_stmt 0 view .LVU89
 360 0016 CA88     		ldrh	r2, [r1, #6]
 427:Src/usbd_iad.c **** 			if (req->bmRequest & 0x80) {
 361              		.loc 1 427 6 view .LVU90
 362 0018 CAB1     		cbz	r2, .L27
 428:Src/usbd_iad.c **** 				((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Control(
 363              		.loc 1 428 4 is_stmt 1 view .LVU91
 428:Src/usbd_iad.c **** 				((USBD_IAD_ItfTypeDef *) pdev->pUserData)->Control(
 364              		.loc 1 428 7 is_stmt 0 view .LVU92
 365 001a 13F0800F 		tst	r3, #128
 366 001e 0BD0     		beq	.L28
 429:Src/usbd_iad.c **** 						req->bRequest, (uint8_t *) hiad->data, req->wLength);
 367              		.loc 1 429 5 is_stmt 1 view .LVU93
 429:Src/usbd_iad.c **** 						req->bRequest, (uint8_t *) hiad->data, req->wLength);
 368              		.loc 1 429 34 is_stmt 0 view .LVU94
 369 0020 D0F8C032 		ldr	r3, [r0, #704]
 429:Src/usbd_iad.c **** 						req->bRequest, (uint8_t *) hiad->data, req->wLength);
 370              		.loc 1 429 46 view .LVU95
 371 0024 9B68     		ldr	r3, [r3, #8]
 429:Src/usbd_iad.c **** 						req->bRequest, (uint8_t *) hiad->data, req->wLength);
 372              		.loc 1 429 6 view .LVU96
 373 0026 3146     		mov	r1, r6
 374              	.LVL27:
 429:Src/usbd_iad.c **** 						req->bRequest, (uint8_t *) hiad->data, req->wLength);
 375              		.loc 1 429 6 view .LVU97
 376 0028 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 377              	.LVL28:
 429:Src/usbd_iad.c **** 						req->bRequest, (uint8_t *) hiad->data, req->wLength);
 378              		.loc 1 429 6 view .LVU98
 379 002a 9847     		blx	r3
 380              	.LVL29:
 431:Src/usbd_iad.c **** 			} else {
 381              		.loc 1 431 5 is_stmt 1 view .LVU99
 382 002c E288     		ldrh	r2, [r4, #6]
 383 002e 3146     		mov	r1, r6
 384 0030 2846     		mov	r0, r5
 385 0032 FFF7FEFF 		bl	USBD_CtlSendData
 386              	.LVL30:
 387 0036 14E0     		b	.L26
 388              	.LVL31:
 389              	.L28:
 433:Src/usbd_iad.c **** 				hiad->CmdLength = req->wLength;
 390              		.loc 1 433 5 view .LVU100
 433:Src/usbd_iad.c **** 				hiad->CmdLength = req->wLength;
 391              		.loc 1 433 26 is_stmt 0 view .LVU101
 392 0038 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 433:Src/usbd_iad.c **** 				hiad->CmdLength = req->wLength;
 393              		.loc 1 433 21 view .LVU102
 394 003a 86F84030 		strb	r3, [r6, #64]
 434:Src/usbd_iad.c **** 
 395              		.loc 1 434 5 is_stmt 1 view .LVU103
 434:Src/usbd_iad.c **** 
 396              		.loc 1 434 26 is_stmt 0 view .LVU104
 397 003e CB88     		ldrh	r3, [r1, #6]
 434:Src/usbd_iad.c **** 
 398              		.loc 1 434 21 view .LVU105
 399 0040 86F84130 		strb	r3, [r6, #65]
ARM GAS  /tmp/cc1oW4tv.s 			page 19


 436:Src/usbd_iad.c **** 			}
 400              		.loc 1 436 5 is_stmt 1 view .LVU106
 401 0044 CA88     		ldrh	r2, [r1, #6]
 402 0046 3146     		mov	r1, r6
 403              	.LVL32:
 436:Src/usbd_iad.c **** 			}
 404              		.loc 1 436 5 is_stmt 0 view .LVU107
 405 0048 FFF7FEFF 		bl	USBD_CtlPrepareRx
 406              	.LVL33:
 436:Src/usbd_iad.c **** 			}
 407              		.loc 1 436 5 view .LVU108
 408 004c 09E0     		b	.L26
 409              	.LVL34:
 410              	.L27:
 440:Src/usbd_iad.c **** 					(uint8_t*) req, 0);
 411              		.loc 1 440 4 is_stmt 1 view .LVU109
 440:Src/usbd_iad.c **** 					(uint8_t*) req, 0);
 412              		.loc 1 440 33 is_stmt 0 view .LVU110
 413 004e D0F8C032 		ldr	r3, [r0, #704]
 440:Src/usbd_iad.c **** 					(uint8_t*) req, 0);
 414              		.loc 1 440 45 view .LVU111
 415 0052 9B68     		ldr	r3, [r3, #8]
 440:Src/usbd_iad.c **** 					(uint8_t*) req, 0);
 416              		.loc 1 440 5 view .LVU112
 417 0054 0022     		movs	r2, #0
 418 0056 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 419              	.LVL35:
 440:Src/usbd_iad.c **** 					(uint8_t*) req, 0);
 420              		.loc 1 440 5 view .LVU113
 421 0058 9847     		blx	r3
 422              	.LVL36:
 440:Src/usbd_iad.c **** 					(uint8_t*) req, 0);
 423              		.loc 1 440 5 view .LVU114
 424 005a 02E0     		b	.L26
 425              	.LVL37:
 426              	.L25:
 446:Src/usbd_iad.c **** 		case USB_REQ_GET_INTERFACE:
 427              		.loc 1 446 3 is_stmt 1 view .LVU115
 446:Src/usbd_iad.c **** 		case USB_REQ_GET_INTERFACE:
 428              		.loc 1 446 14 is_stmt 0 view .LVU116
 429 005c 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 430 005e 0A2B     		cmp	r3, #10
 431 0060 01D0     		beq	.L30
 432              	.LVL38:
 433              	.L26:
 459:Src/usbd_iad.c **** }
 434              		.loc 1 459 2 is_stmt 1 view .LVU117
 460:Src/usbd_iad.c **** 
 435              		.loc 1 460 1 is_stmt 0 view .LVU118
 436 0062 0020     		movs	r0, #0
 437 0064 70BD     		pop	{r4, r5, r6, pc}
 438              	.LVL39:
 439              	.L30:
 448:Src/usbd_iad.c **** 			break;
 440              		.loc 1 448 4 is_stmt 1 view .LVU119
 441 0066 0122     		movs	r2, #1
 442 0068 0149     		ldr	r1, .L31
ARM GAS  /tmp/cc1oW4tv.s 			page 20


 443              	.LVL40:
 448:Src/usbd_iad.c **** 			break;
 444              		.loc 1 448 4 is_stmt 0 view .LVU120
 445 006a FFF7FEFF 		bl	USBD_CtlSendData
 446              	.LVL41:
 449:Src/usbd_iad.c **** 
 447              		.loc 1 449 4 is_stmt 1 view .LVU121
 448 006e F8E7     		b	.L26
 449              	.L32:
 450              		.align	2
 451              	.L31:
 452 0070 00000000 		.word	.LANCHOR2
 453              		.cfi_endproc
 454              	.LFE147:
 456              		.section	.text.USBD_IAD_DeInit,"ax",%progbits
 457              		.align	1
 458              		.syntax unified
 459              		.thumb
 460              		.thumb_func
 461              		.fpu fpv5-d16
 463              	USBD_IAD_DeInit:
 464              	.LVL42:
 465              	.LFB146:
 377:Src/usbd_iad.c **** 	uint8_t ret = 0;
 466              		.loc 1 377 74 view -0
 467              		.cfi_startproc
 468              		@ args = 0, pretend = 0, frame = 0
 469              		@ frame_needed = 0, uses_anonymous_args = 0
 377:Src/usbd_iad.c **** 	uint8_t ret = 0;
 470              		.loc 1 377 74 is_stmt 0 view .LVU123
 471 0000 10B5     		push	{r4, lr}
 472              	.LCFI3:
 473              		.cfi_def_cfa_offset 8
 474              		.cfi_offset 4, -8
 475              		.cfi_offset 14, -4
 476 0002 0446     		mov	r4, r0
 378:Src/usbd_iad.c **** 
 477              		.loc 1 378 2 is_stmt 1 view .LVU124
 478              	.LVL43:
 382:Src/usbd_iad.c **** 		IAD_CDC1_IN_EP);
 479              		.loc 1 382 2 view .LVU125
 480 0004 8121     		movs	r1, #129
 481              	.LVL44:
 382:Src/usbd_iad.c **** 		IAD_CDC1_IN_EP);
 482              		.loc 1 382 2 is_stmt 0 view .LVU126
 483 0006 FFF7FEFF 		bl	USBD_LL_CloseEP
 484              	.LVL45:
 385:Src/usbd_iad.c **** 		IAD_CDC1_OUT_EP);
 485              		.loc 1 385 2 is_stmt 1 view .LVU127
 486 000a 0121     		movs	r1, #1
 487 000c 2046     		mov	r0, r4
 488 000e FFF7FEFF 		bl	USBD_LL_CloseEP
 489              	.LVL46:
 388:Src/usbd_iad.c **** 		IAD_CDC1_CMD_EP);
 490              		.loc 1 388 2 view .LVU128
 491 0012 8221     		movs	r1, #130
 492 0014 2046     		mov	r0, r4
ARM GAS  /tmp/cc1oW4tv.s 			page 21


 493 0016 FFF7FEFF 		bl	USBD_LL_CloseEP
 494              	.LVL47:
 393:Src/usbd_iad.c **** 		IAD_CDC2_IN_EP);
 495              		.loc 1 393 2 view .LVU129
 496 001a 8321     		movs	r1, #131
 497 001c 2046     		mov	r0, r4
 498 001e FFF7FEFF 		bl	USBD_LL_CloseEP
 499              	.LVL48:
 396:Src/usbd_iad.c **** 		IAD_CDC2_OUT_EP);
 500              		.loc 1 396 2 view .LVU130
 501 0022 0321     		movs	r1, #3
 502 0024 2046     		mov	r0, r4
 503 0026 FFF7FEFF 		bl	USBD_LL_CloseEP
 504              	.LVL49:
 399:Src/usbd_iad.c **** 		IAD_CDC2_CMD_EP);
 505              		.loc 1 399 2 view .LVU131
 506 002a 8421     		movs	r1, #132
 507 002c 2046     		mov	r0, r4
 508 002e FFF7FEFF 		bl	USBD_LL_CloseEP
 509              	.LVL50:
 403:Src/usbd_iad.c **** 		((USBD_IAD_ItfTypeDef *) pdev->pUserData)->DeInit();
 510              		.loc 1 403 2 view .LVU132
 403:Src/usbd_iad.c **** 		((USBD_IAD_ItfTypeDef *) pdev->pUserData)->DeInit();
 511              		.loc 1 403 10 is_stmt 0 view .LVU133
 512 0032 D4F8BC32 		ldr	r3, [r4, #700]
 403:Src/usbd_iad.c **** 		((USBD_IAD_ItfTypeDef *) pdev->pUserData)->DeInit();
 513              		.loc 1 403 5 view .LVU134
 514 0036 53B1     		cbz	r3, .L34
 404:Src/usbd_iad.c **** 		USBD_free(pdev->pClassData);
 515              		.loc 1 404 3 is_stmt 1 view .LVU135
 404:Src/usbd_iad.c **** 		USBD_free(pdev->pClassData);
 516              		.loc 1 404 32 is_stmt 0 view .LVU136
 517 0038 D4F8C032 		ldr	r3, [r4, #704]
 404:Src/usbd_iad.c **** 		USBD_free(pdev->pClassData);
 518              		.loc 1 404 44 view .LVU137
 519 003c 5B68     		ldr	r3, [r3, #4]
 404:Src/usbd_iad.c **** 		USBD_free(pdev->pClassData);
 520              		.loc 1 404 4 view .LVU138
 521 003e 9847     		blx	r3
 522              	.LVL51:
 405:Src/usbd_iad.c **** 		pdev->pClassData = NULL;
 523              		.loc 1 405 3 is_stmt 1 view .LVU139
 524 0040 D4F8BC02 		ldr	r0, [r4, #700]
 525 0044 FFF7FEFF 		bl	free
 526              	.LVL52:
 406:Src/usbd_iad.c **** 	}
 527              		.loc 1 406 3 view .LVU140
 406:Src/usbd_iad.c **** 	}
 528              		.loc 1 406 20 is_stmt 0 view .LVU141
 529 0048 0023     		movs	r3, #0
 530 004a C4F8BC32 		str	r3, [r4, #700]
 531              	.L34:
 409:Src/usbd_iad.c **** }
 532              		.loc 1 409 2 is_stmt 1 view .LVU142
 410:Src/usbd_iad.c **** 
 533              		.loc 1 410 1 is_stmt 0 view .LVU143
 534 004e 0020     		movs	r0, #0
ARM GAS  /tmp/cc1oW4tv.s 			page 22


 535 0050 10BD     		pop	{r4, pc}
 410:Src/usbd_iad.c **** 
 536              		.loc 1 410 1 view .LVU144
 537              		.cfi_endproc
 538              	.LFE146:
 540              		.section	.text.USBD_IAD_Init,"ax",%progbits
 541              		.align	1
 542              		.syntax unified
 543              		.thumb
 544              		.thumb_func
 545              		.fpu fpv5-d16
 547              	USBD_IAD_Init:
 548              	.LVL53:
 549              	.LFB145:
 302:Src/usbd_iad.c **** 	uint8_t ret = 0;
 550              		.loc 1 302 72 is_stmt 1 view -0
 551              		.cfi_startproc
 552              		@ args = 0, pretend = 0, frame = 0
 553              		@ frame_needed = 0, uses_anonymous_args = 0
 302:Src/usbd_iad.c **** 	uint8_t ret = 0;
 554              		.loc 1 302 72 is_stmt 0 view .LVU146
 555 0000 70B5     		push	{r4, r5, r6, lr}
 556              	.LCFI4:
 557              		.cfi_def_cfa_offset 16
 558              		.cfi_offset 4, -16
 559              		.cfi_offset 5, -12
 560              		.cfi_offset 6, -8
 561              		.cfi_offset 14, -4
 562 0002 0446     		mov	r4, r0
 303:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad;
 563              		.loc 1 303 2 is_stmt 1 view .LVU147
 564              	.LVL54:
 304:Src/usbd_iad.c **** 
 565              		.loc 1 304 2 view .LVU148
 306:Src/usbd_iad.c **** 		IAD_DATA_FS_IN_PACKET_SIZE : IAD_DATA_FS_IN_PACKET_SIZE;
 566              		.loc 1 306 2 view .LVU149
 311:Src/usbd_iad.c **** 		IAD_CDC1_IN_EP,
 567              		.loc 1 311 2 view .LVU150
 568 0004 4023     		movs	r3, #64
 569 0006 0222     		movs	r2, #2
 570 0008 8121     		movs	r1, #129
 571              	.LVL55:
 311:Src/usbd_iad.c **** 		IAD_CDC1_IN_EP,
 572              		.loc 1 311 2 is_stmt 0 view .LVU151
 573 000a FFF7FEFF 		bl	USBD_LL_OpenEP
 574              	.LVL56:
 316:Src/usbd_iad.c **** 		IAD_CDC1_OUT_EP,
 575              		.loc 1 316 2 is_stmt 1 view .LVU152
 576 000e 4023     		movs	r3, #64
 577 0010 0222     		movs	r2, #2
 578 0012 0121     		movs	r1, #1
 579 0014 2046     		mov	r0, r4
 580 0016 FFF7FEFF 		bl	USBD_LL_OpenEP
 581              	.LVL57:
 321:Src/usbd_iad.c **** 		IAD_CDC1_CMD_EP,
 582              		.loc 1 321 2 view .LVU153
 583 001a 0823     		movs	r3, #8
ARM GAS  /tmp/cc1oW4tv.s 			page 23


 584 001c 0322     		movs	r2, #3
 585 001e 8221     		movs	r1, #130
 586 0020 2046     		mov	r0, r4
 587 0022 FFF7FEFF 		bl	USBD_LL_OpenEP
 588              	.LVL58:
 328:Src/usbd_iad.c **** 		IAD_CDC2_IN_EP,
 589              		.loc 1 328 2 view .LVU154
 590 0026 4023     		movs	r3, #64
 591 0028 0222     		movs	r2, #2
 592 002a 8321     		movs	r1, #131
 593 002c 2046     		mov	r0, r4
 594 002e FFF7FEFF 		bl	USBD_LL_OpenEP
 595              	.LVL59:
 333:Src/usbd_iad.c **** 		IAD_CDC2_OUT_EP,
 596              		.loc 1 333 2 view .LVU155
 597 0032 4023     		movs	r3, #64
 598 0034 0222     		movs	r2, #2
 599 0036 0321     		movs	r1, #3
 600 0038 2046     		mov	r0, r4
 601 003a FFF7FEFF 		bl	USBD_LL_OpenEP
 602              	.LVL60:
 338:Src/usbd_iad.c **** 		IAD_CDC2_CMD_EP,
 603              		.loc 1 338 2 view .LVU156
 604 003e 0823     		movs	r3, #8
 605 0040 0322     		movs	r2, #3
 606 0042 8421     		movs	r1, #132
 607 0044 2046     		mov	r0, r4
 608 0046 FFF7FEFF 		bl	USBD_LL_OpenEP
 609              	.LVL61:
 343:Src/usbd_iad.c **** 
 610              		.loc 1 343 2 view .LVU157
 343:Src/usbd_iad.c **** 
 611              		.loc 1 343 21 is_stmt 0 view .LVU158
 612 004a 7420     		movs	r0, #116
 613 004c FFF7FEFF 		bl	malloc
 614              	.LVL62:
 343:Src/usbd_iad.c **** 
 615              		.loc 1 343 19 view .LVU159
 616 0050 C4F8BC02 		str	r0, [r4, #700]
 345:Src/usbd_iad.c **** 		ret = 1;
 617              		.loc 1 345 2 is_stmt 1 view .LVU160
 345:Src/usbd_iad.c **** 		ret = 1;
 618              		.loc 1 345 5 is_stmt 0 view .LVU161
 619 0054 B8B1     		cbz	r0, .L38
 620 0056 0546     		mov	r5, r0
 348:Src/usbd_iad.c **** 
 621              		.loc 1 348 3 is_stmt 1 view .LVU162
 622              	.LVL63:
 351:Src/usbd_iad.c **** 
 623              		.loc 1 351 3 view .LVU163
 351:Src/usbd_iad.c **** 
 624              		.loc 1 351 32 is_stmt 0 view .LVU164
 625 0058 D4F8C032 		ldr	r3, [r4, #704]
 351:Src/usbd_iad.c **** 
 626              		.loc 1 351 44 view .LVU165
 627 005c 1B68     		ldr	r3, [r3]
 351:Src/usbd_iad.c **** 
ARM GAS  /tmp/cc1oW4tv.s 			page 24


 628              		.loc 1 351 4 view .LVU166
 629 005e 9847     		blx	r3
 630              	.LVL64:
 354:Src/usbd_iad.c **** 		hiad->cdc1.RxState = 0;
 631              		.loc 1 354 3 is_stmt 1 view .LVU167
 354:Src/usbd_iad.c **** 		hiad->cdc1.RxState = 0;
 632              		.loc 1 354 22 is_stmt 0 view .LVU168
 633 0060 0026     		movs	r6, #0
 634 0062 6E65     		str	r6, [r5, #84]
 355:Src/usbd_iad.c **** 		hiad->cdc2.TxState = 0;
 635              		.loc 1 355 3 is_stmt 1 view .LVU169
 355:Src/usbd_iad.c **** 		hiad->cdc2.TxState = 0;
 636              		.loc 1 355 22 is_stmt 0 view .LVU170
 637 0064 AE65     		str	r6, [r5, #88]
 356:Src/usbd_iad.c **** 		hiad->cdc2.RxState = 0;
 638              		.loc 1 356 3 is_stmt 1 view .LVU171
 356:Src/usbd_iad.c **** 		hiad->cdc2.RxState = 0;
 639              		.loc 1 356 22 is_stmt 0 view .LVU172
 640 0066 EE66     		str	r6, [r5, #108]
 357:Src/usbd_iad.c **** 
 641              		.loc 1 357 3 is_stmt 1 view .LVU173
 357:Src/usbd_iad.c **** 
 642              		.loc 1 357 22 is_stmt 0 view .LVU174
 643 0068 2E67     		str	r6, [r5, #112]
 360:Src/usbd_iad.c **** 			IAD_CDC1_OUT_EP, hiad->cdc1.RxBuffer,
 644              		.loc 1 360 3 is_stmt 1 view .LVU175
 645 006a 4023     		movs	r3, #64
 646 006c 6A6C     		ldr	r2, [r5, #68]
 647 006e 0121     		movs	r1, #1
 648 0070 2046     		mov	r0, r4
 649 0072 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 650              	.LVL65:
 363:Src/usbd_iad.c **** 			IAD_CDC2_OUT_EP, hiad->cdc2.RxBuffer,
 651              		.loc 1 363 3 view .LVU176
 652 0076 4023     		movs	r3, #64
 653 0078 EA6D     		ldr	r2, [r5, #92]
 654 007a 0321     		movs	r1, #3
 655 007c 2046     		mov	r0, r4
 656 007e FFF7FEFF 		bl	USBD_LL_PrepareReceive
 657              	.LVL66:
 303:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad;
 658              		.loc 1 303 10 is_stmt 0 view .LVU177
 659 0082 3046     		mov	r0, r6
 660              	.LVL67:
 661              	.L37:
 367:Src/usbd_iad.c **** }
 662              		.loc 1 367 2 is_stmt 1 view .LVU178
 368:Src/usbd_iad.c **** 
 663              		.loc 1 368 1 is_stmt 0 view .LVU179
 664 0084 70BD     		pop	{r4, r5, r6, pc}
 665              	.LVL68:
 666              	.L38:
 346:Src/usbd_iad.c **** 	} else {
 667              		.loc 1 346 7 view .LVU180
 668 0086 0120     		movs	r0, #1
 669 0088 FCE7     		b	.L37
 670              		.cfi_endproc
ARM GAS  /tmp/cc1oW4tv.s 			page 25


 671              	.LFE145:
 673              		.section	.text.USBD_IAD_RegisterInterface,"ax",%progbits
 674              		.align	1
 675              		.global	USBD_IAD_RegisterInterface
 676              		.syntax unified
 677              		.thumb
 678              		.thumb_func
 679              		.fpu fpv5-d16
 681              	USBD_IAD_RegisterInterface:
 682              	.LVL69:
 683              	.LFB154:
 584:Src/usbd_iad.c **** 
 585:Src/usbd_iad.c **** /**
 586:Src/usbd_iad.c ****  * @brief  USBD_IAD_RegisterInterface
 587:Src/usbd_iad.c ****  * @param  pdev: device instance
 588:Src/usbd_iad.c ****  * @param  fops: CD  Interface callback
 589:Src/usbd_iad.c ****  * @retval status
 590:Src/usbd_iad.c ****  */
 591:Src/usbd_iad.c **** uint8_t USBD_IAD_RegisterInterface(USBD_HandleTypeDef *pdev,
 592:Src/usbd_iad.c **** 		USBD_IAD_ItfTypeDef *fops) {
 684              		.loc 1 592 30 is_stmt 1 view -0
 685              		.cfi_startproc
 686              		@ args = 0, pretend = 0, frame = 0
 687              		@ frame_needed = 0, uses_anonymous_args = 0
 688              		@ link register save eliminated.
 593:Src/usbd_iad.c **** 	uint8_t ret = USBD_FAIL;
 689              		.loc 1 593 2 view .LVU182
 594:Src/usbd_iad.c **** 
 595:Src/usbd_iad.c **** 	if (fops != NULL) {
 690              		.loc 1 595 2 view .LVU183
 691              		.loc 1 595 5 is_stmt 0 view .LVU184
 692 0000 19B1     		cbz	r1, .L42
 596:Src/usbd_iad.c **** 		pdev->pUserData = fops;
 693              		.loc 1 596 3 is_stmt 1 view .LVU185
 694              		.loc 1 596 19 is_stmt 0 view .LVU186
 695 0002 C0F8C012 		str	r1, [r0, #704]
 597:Src/usbd_iad.c **** 		ret = USBD_OK;
 696              		.loc 1 597 3 is_stmt 1 view .LVU187
 697              	.LVL70:
 698              		.loc 1 597 7 is_stmt 0 view .LVU188
 699 0006 0020     		movs	r0, #0
 700              	.LVL71:
 701              		.loc 1 597 7 view .LVU189
 702 0008 7047     		bx	lr
 703              	.LVL72:
 704              	.L42:
 593:Src/usbd_iad.c **** 
 705              		.loc 1 593 10 view .LVU190
 706 000a 0320     		movs	r0, #3
 707              	.LVL73:
 598:Src/usbd_iad.c **** 	}
 599:Src/usbd_iad.c **** 
 600:Src/usbd_iad.c **** 	return ret;
 708              		.loc 1 600 2 is_stmt 1 view .LVU191
 601:Src/usbd_iad.c **** }
 709              		.loc 1 601 1 is_stmt 0 view .LVU192
 710 000c 7047     		bx	lr
ARM GAS  /tmp/cc1oW4tv.s 			page 26


 711              		.cfi_endproc
 712              	.LFE154:
 714              		.section	.text.USBD_IAD_CDC1_SetTxBuffer,"ax",%progbits
 715              		.align	1
 716              		.global	USBD_IAD_CDC1_SetTxBuffer
 717              		.syntax unified
 718              		.thumb
 719              		.thumb_func
 720              		.fpu fpv5-d16
 722              	USBD_IAD_CDC1_SetTxBuffer:
 723              	.LVL74:
 724              	.LFB155:
 602:Src/usbd_iad.c **** 
 603:Src/usbd_iad.c **** /**
 604:Src/usbd_iad.c ****  * @brief  USBD_IAD_SetTxBuffer
 605:Src/usbd_iad.c ****  * @param  pdev: device instance
 606:Src/usbd_iad.c ****  * @param  pbuff: Tx Buffer
 607:Src/usbd_iad.c ****  * @retval status
 608:Src/usbd_iad.c ****  */
 609:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC1_SetTxBuffer(USBD_HandleTypeDef *pdev, uint8_t *pbuff,
 610:Src/usbd_iad.c **** 		uint16_t length) {
 725              		.loc 1 610 20 is_stmt 1 view -0
 726              		.cfi_startproc
 727              		@ args = 0, pretend = 0, frame = 0
 728              		@ frame_needed = 0, uses_anonymous_args = 0
 729              		@ link register save eliminated.
 611:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 730              		.loc 1 611 2 view .LVU194
 731              		.loc 1 611 26 is_stmt 0 view .LVU195
 732 0000 D0F8BC32 		ldr	r3, [r0, #700]
 733              	.LVL75:
 612:Src/usbd_iad.c **** 
 613:Src/usbd_iad.c **** 	hiad->cdc1.TxBuffer = pbuff;
 734              		.loc 1 613 2 is_stmt 1 view .LVU196
 735              		.loc 1 613 22 is_stmt 0 view .LVU197
 736 0004 9964     		str	r1, [r3, #72]
 614:Src/usbd_iad.c **** 	hiad->cdc1.TxLength = length;
 737              		.loc 1 614 2 is_stmt 1 view .LVU198
 738              		.loc 1 614 22 is_stmt 0 view .LVU199
 739 0006 1A65     		str	r2, [r3, #80]
 615:Src/usbd_iad.c **** 
 616:Src/usbd_iad.c **** 	return USBD_OK;
 740              		.loc 1 616 2 is_stmt 1 view .LVU200
 617:Src/usbd_iad.c **** }
 741              		.loc 1 617 1 is_stmt 0 view .LVU201
 742 0008 0020     		movs	r0, #0
 743              	.LVL76:
 744              		.loc 1 617 1 view .LVU202
 745 000a 7047     		bx	lr
 746              		.cfi_endproc
 747              	.LFE155:
 749              		.section	.text.USBD_IAD_CDC2_SetTxBuffer,"ax",%progbits
 750              		.align	1
 751              		.global	USBD_IAD_CDC2_SetTxBuffer
 752              		.syntax unified
 753              		.thumb
 754              		.thumb_func
ARM GAS  /tmp/cc1oW4tv.s 			page 27


 755              		.fpu fpv5-d16
 757              	USBD_IAD_CDC2_SetTxBuffer:
 758              	.LVL77:
 759              	.LFB156:
 618:Src/usbd_iad.c **** 
 619:Src/usbd_iad.c **** /**
 620:Src/usbd_iad.c ****  * @brief  USBD_IAD_SetTxBuffer
 621:Src/usbd_iad.c ****  * @param  pdev: device instance
 622:Src/usbd_iad.c ****  * @param  pbuff: Tx Buffer
 623:Src/usbd_iad.c ****  * @retval status
 624:Src/usbd_iad.c ****  */
 625:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC2_SetTxBuffer(USBD_HandleTypeDef *pdev, uint8_t *pbuff,
 626:Src/usbd_iad.c **** 		uint16_t length) {
 760              		.loc 1 626 20 is_stmt 1 view -0
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 0
 763              		@ frame_needed = 0, uses_anonymous_args = 0
 764              		@ link register save eliminated.
 627:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 765              		.loc 1 627 2 view .LVU204
 766              		.loc 1 627 26 is_stmt 0 view .LVU205
 767 0000 D0F8BC32 		ldr	r3, [r0, #700]
 768              	.LVL78:
 628:Src/usbd_iad.c **** 
 629:Src/usbd_iad.c **** 	hiad->cdc2.TxBuffer = pbuff;
 769              		.loc 1 629 2 is_stmt 1 view .LVU206
 770              		.loc 1 629 22 is_stmt 0 view .LVU207
 771 0004 1966     		str	r1, [r3, #96]
 630:Src/usbd_iad.c **** 	hiad->cdc2.TxLength = length;
 772              		.loc 1 630 2 is_stmt 1 view .LVU208
 773              		.loc 1 630 22 is_stmt 0 view .LVU209
 774 0006 9A66     		str	r2, [r3, #104]
 631:Src/usbd_iad.c **** 
 632:Src/usbd_iad.c **** 	return USBD_OK;
 775              		.loc 1 632 2 is_stmt 1 view .LVU210
 633:Src/usbd_iad.c **** }
 776              		.loc 1 633 1 is_stmt 0 view .LVU211
 777 0008 0020     		movs	r0, #0
 778              	.LVL79:
 779              		.loc 1 633 1 view .LVU212
 780 000a 7047     		bx	lr
 781              		.cfi_endproc
 782              	.LFE156:
 784              		.section	.text.USBD_IAD_CDC1_SetRxBuffer,"ax",%progbits
 785              		.align	1
 786              		.global	USBD_IAD_CDC1_SetRxBuffer
 787              		.syntax unified
 788              		.thumb
 789              		.thumb_func
 790              		.fpu fpv5-d16
 792              	USBD_IAD_CDC1_SetRxBuffer:
 793              	.LVL80:
 794              	.LFB157:
 634:Src/usbd_iad.c **** 
 635:Src/usbd_iad.c **** /**
 636:Src/usbd_iad.c ****  * @brief  USBD_IAD_SetRxBuffer
 637:Src/usbd_iad.c ****  * @param  pdev: device instance
ARM GAS  /tmp/cc1oW4tv.s 			page 28


 638:Src/usbd_iad.c ****  * @param  pbuff: Rx Buffer
 639:Src/usbd_iad.c ****  * @retval status
 640:Src/usbd_iad.c ****  */
 641:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC1_SetRxBuffer(USBD_HandleTypeDef *pdev, uint8_t *pbuff) {
 795              		.loc 1 641 77 is_stmt 1 view -0
 796              		.cfi_startproc
 797              		@ args = 0, pretend = 0, frame = 0
 798              		@ frame_needed = 0, uses_anonymous_args = 0
 799              		@ link register save eliminated.
 642:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 800              		.loc 1 642 2 view .LVU214
 801              		.loc 1 642 26 is_stmt 0 view .LVU215
 802 0000 D0F8BC32 		ldr	r3, [r0, #700]
 803              	.LVL81:
 643:Src/usbd_iad.c **** 
 644:Src/usbd_iad.c **** 	hiad->cdc1.RxBuffer = pbuff;
 804              		.loc 1 644 2 is_stmt 1 view .LVU216
 805              		.loc 1 644 22 is_stmt 0 view .LVU217
 806 0004 5964     		str	r1, [r3, #68]
 645:Src/usbd_iad.c **** 
 646:Src/usbd_iad.c **** 	return USBD_OK;
 807              		.loc 1 646 2 is_stmt 1 view .LVU218
 647:Src/usbd_iad.c **** }
 808              		.loc 1 647 1 is_stmt 0 view .LVU219
 809 0006 0020     		movs	r0, #0
 810              	.LVL82:
 811              		.loc 1 647 1 view .LVU220
 812 0008 7047     		bx	lr
 813              		.cfi_endproc
 814              	.LFE157:
 816              		.section	.text.USBD_IAD_CDC2_SetRxBuffer,"ax",%progbits
 817              		.align	1
 818              		.global	USBD_IAD_CDC2_SetRxBuffer
 819              		.syntax unified
 820              		.thumb
 821              		.thumb_func
 822              		.fpu fpv5-d16
 824              	USBD_IAD_CDC2_SetRxBuffer:
 825              	.LVL83:
 826              	.LFB158:
 648:Src/usbd_iad.c **** 
 649:Src/usbd_iad.c **** /**
 650:Src/usbd_iad.c ****  * @brief  USBD_IAD_SetRxBuffer
 651:Src/usbd_iad.c ****  * @param  pdev: device instance
 652:Src/usbd_iad.c ****  * @param  pbuff: Rx Buffer
 653:Src/usbd_iad.c ****  * @retval status
 654:Src/usbd_iad.c ****  */
 655:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC2_SetRxBuffer(USBD_HandleTypeDef *pdev, uint8_t *pbuff) {
 827              		.loc 1 655 77 is_stmt 1 view -0
 828              		.cfi_startproc
 829              		@ args = 0, pretend = 0, frame = 0
 830              		@ frame_needed = 0, uses_anonymous_args = 0
 831              		@ link register save eliminated.
 656:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 832              		.loc 1 656 2 view .LVU222
 833              		.loc 1 656 26 is_stmt 0 view .LVU223
 834 0000 D0F8BC32 		ldr	r3, [r0, #700]
ARM GAS  /tmp/cc1oW4tv.s 			page 29


 835              	.LVL84:
 657:Src/usbd_iad.c **** 
 658:Src/usbd_iad.c **** 	hiad->cdc2.RxBuffer = pbuff;
 836              		.loc 1 658 2 is_stmt 1 view .LVU224
 837              		.loc 1 658 22 is_stmt 0 view .LVU225
 838 0004 D965     		str	r1, [r3, #92]
 659:Src/usbd_iad.c **** 
 660:Src/usbd_iad.c **** 	return USBD_OK;
 839              		.loc 1 660 2 is_stmt 1 view .LVU226
 661:Src/usbd_iad.c **** }
 840              		.loc 1 661 1 is_stmt 0 view .LVU227
 841 0006 0020     		movs	r0, #0
 842              	.LVL85:
 843              		.loc 1 661 1 view .LVU228
 844 0008 7047     		bx	lr
 845              		.cfi_endproc
 846              	.LFE158:
 848              		.section	.text.USBD_IAD_CDC1_TransmitPacket,"ax",%progbits
 849              		.align	1
 850              		.global	USBD_IAD_CDC1_TransmitPacket
 851              		.syntax unified
 852              		.thumb
 853              		.thumb_func
 854              		.fpu fpv5-d16
 856              	USBD_IAD_CDC1_TransmitPacket:
 857              	.LVL86:
 858              	.LFB159:
 662:Src/usbd_iad.c **** 
 663:Src/usbd_iad.c **** /**
 664:Src/usbd_iad.c ****  * @brief  USBD_IAD_DataOut
 665:Src/usbd_iad.c ****  *         Data received on non-control Out endpoint
 666:Src/usbd_iad.c ****  * @param  pdev: device instance
 667:Src/usbd_iad.c ****  * @param  epnum: endpoint number
 668:Src/usbd_iad.c ****  * @retval status
 669:Src/usbd_iad.c ****  */
 670:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC1_TransmitPacket(USBD_HandleTypeDef *pdev) {
 859              		.loc 1 670 64 is_stmt 1 view -0
 860              		.cfi_startproc
 861              		@ args = 0, pretend = 0, frame = 0
 862              		@ frame_needed = 0, uses_anonymous_args = 0
 671:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 863              		.loc 1 671 2 view .LVU230
 864              		.loc 1 671 26 is_stmt 0 view .LVU231
 865 0000 D0F8BC22 		ldr	r2, [r0, #700]
 866              	.LVL87:
 672:Src/usbd_iad.c **** 
 673:Src/usbd_iad.c **** 	if (pdev->pClassData != NULL) {
 867              		.loc 1 673 2 is_stmt 1 view .LVU232
 868              		.loc 1 673 5 is_stmt 0 view .LVU233
 869 0004 6AB1     		cbz	r2, .L49
 670:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 870              		.loc 1 670 64 view .LVU234
 871 0006 08B5     		push	{r3, lr}
 872              	.LCFI5:
 873              		.cfi_def_cfa_offset 8
 874              		.cfi_offset 3, -8
 875              		.cfi_offset 14, -4
ARM GAS  /tmp/cc1oW4tv.s 			page 30


 674:Src/usbd_iad.c **** 		if (hiad->cdc1.TxState == 0) {
 876              		.loc 1 674 3 is_stmt 1 view .LVU235
 877              		.loc 1 674 17 is_stmt 0 view .LVU236
 878 0008 536D     		ldr	r3, [r2, #84]
 879              		.loc 1 674 6 view .LVU237
 880 000a 0BB1     		cbz	r3, .L55
 675:Src/usbd_iad.c **** 			/* Tx Transfer in progress */
 676:Src/usbd_iad.c **** 			hiad->cdc1.TxState = 1;
 677:Src/usbd_iad.c **** 
 678:Src/usbd_iad.c **** 			/* Transmit next packet */
 679:Src/usbd_iad.c **** 			USBD_LL_Transmit(pdev,
 680:Src/usbd_iad.c **** 					IAD_CDC1_IN_EP, hiad->cdc1.TxBuffer, hiad->cdc1.TxLength);
 681:Src/usbd_iad.c **** 
 682:Src/usbd_iad.c **** 			return USBD_OK;
 683:Src/usbd_iad.c **** 		} else {
 684:Src/usbd_iad.c **** 			return USBD_BUSY;
 881              		.loc 1 684 11 view .LVU238
 882 000c 0120     		movs	r0, #1
 883              	.LVL88:
 884              	.L48:
 685:Src/usbd_iad.c **** 		}
 686:Src/usbd_iad.c **** 	} else {
 687:Src/usbd_iad.c **** 		return USBD_FAIL;
 688:Src/usbd_iad.c **** 	}
 689:Src/usbd_iad.c **** }
 885              		.loc 1 689 1 view .LVU239
 886 000e 08BD     		pop	{r3, pc}
 887              	.LVL89:
 888              	.L55:
 676:Src/usbd_iad.c **** 
 889              		.loc 1 676 4 is_stmt 1 view .LVU240
 676:Src/usbd_iad.c **** 
 890              		.loc 1 676 23 is_stmt 0 view .LVU241
 891 0010 0123     		movs	r3, #1
 892 0012 5365     		str	r3, [r2, #84]
 679:Src/usbd_iad.c **** 					IAD_CDC1_IN_EP, hiad->cdc1.TxBuffer, hiad->cdc1.TxLength);
 893              		.loc 1 679 4 is_stmt 1 view .LVU242
 894 0014 136D     		ldr	r3, [r2, #80]
 895 0016 926C     		ldr	r2, [r2, #72]
 896              	.LVL90:
 679:Src/usbd_iad.c **** 					IAD_CDC1_IN_EP, hiad->cdc1.TxBuffer, hiad->cdc1.TxLength);
 897              		.loc 1 679 4 is_stmt 0 view .LVU243
 898 0018 8121     		movs	r1, #129
 899 001a FFF7FEFF 		bl	USBD_LL_Transmit
 900              	.LVL91:
 682:Src/usbd_iad.c **** 		} else {
 901              		.loc 1 682 4 is_stmt 1 view .LVU244
 682:Src/usbd_iad.c **** 		} else {
 902              		.loc 1 682 11 is_stmt 0 view .LVU245
 903 001e 0020     		movs	r0, #0
 904 0020 F5E7     		b	.L48
 905              	.LVL92:
 906              	.L49:
 907              	.LCFI6:
 908              		.cfi_def_cfa_offset 0
 909              		.cfi_restore 3
 910              		.cfi_restore 14
ARM GAS  /tmp/cc1oW4tv.s 			page 31


 687:Src/usbd_iad.c **** 	}
 911              		.loc 1 687 10 view .LVU246
 912 0022 0320     		movs	r0, #3
 913              	.LVL93:
 914              		.loc 1 689 1 view .LVU247
 915 0024 7047     		bx	lr
 916              		.cfi_endproc
 917              	.LFE159:
 919              		.section	.text.USBD_IAD_CDC2_TransmitPacket,"ax",%progbits
 920              		.align	1
 921              		.global	USBD_IAD_CDC2_TransmitPacket
 922              		.syntax unified
 923              		.thumb
 924              		.thumb_func
 925              		.fpu fpv5-d16
 927              	USBD_IAD_CDC2_TransmitPacket:
 928              	.LVL94:
 929              	.LFB160:
 690:Src/usbd_iad.c **** 
 691:Src/usbd_iad.c **** /**
 692:Src/usbd_iad.c ****  * @brief  USBD_IAD_DataOut
 693:Src/usbd_iad.c ****  *         Data received on non-control Out endpoint
 694:Src/usbd_iad.c ****  * @param  pdev: device instance
 695:Src/usbd_iad.c ****  * @param  epnum: endpoint number
 696:Src/usbd_iad.c ****  * @retval status
 697:Src/usbd_iad.c ****  */
 698:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC2_TransmitPacket(USBD_HandleTypeDef *pdev) {
 930              		.loc 1 698 64 is_stmt 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 699:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 934              		.loc 1 699 2 view .LVU249
 935              		.loc 1 699 26 is_stmt 0 view .LVU250
 936 0000 D0F8BC22 		ldr	r2, [r0, #700]
 937              	.LVL95:
 700:Src/usbd_iad.c **** 
 701:Src/usbd_iad.c **** 	if (pdev->pClassData != NULL) {
 938              		.loc 1 701 2 is_stmt 1 view .LVU251
 939              		.loc 1 701 5 is_stmt 0 view .LVU252
 940 0004 6AB1     		cbz	r2, .L58
 698:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 941              		.loc 1 698 64 view .LVU253
 942 0006 08B5     		push	{r3, lr}
 943              	.LCFI7:
 944              		.cfi_def_cfa_offset 8
 945              		.cfi_offset 3, -8
 946              		.cfi_offset 14, -4
 702:Src/usbd_iad.c **** 		if (hiad->cdc2.TxState == 0) {
 947              		.loc 1 702 3 is_stmt 1 view .LVU254
 948              		.loc 1 702 17 is_stmt 0 view .LVU255
 949 0008 D36E     		ldr	r3, [r2, #108]
 950              		.loc 1 702 6 view .LVU256
 951 000a 0BB1     		cbz	r3, .L64
 703:Src/usbd_iad.c **** 			/* Tx Transfer in progress */
 704:Src/usbd_iad.c **** 			hiad->cdc2.TxState = 1;
 705:Src/usbd_iad.c **** 
ARM GAS  /tmp/cc1oW4tv.s 			page 32


 706:Src/usbd_iad.c **** 			/* Transmit next packet */
 707:Src/usbd_iad.c **** 			USBD_LL_Transmit(pdev,
 708:Src/usbd_iad.c **** 					IAD_CDC2_IN_EP, hiad->cdc2.TxBuffer, hiad->cdc2.TxLength);
 709:Src/usbd_iad.c **** 
 710:Src/usbd_iad.c **** 			return USBD_OK;
 711:Src/usbd_iad.c **** 		} else {
 712:Src/usbd_iad.c **** 			return USBD_BUSY;
 952              		.loc 1 712 11 view .LVU257
 953 000c 0120     		movs	r0, #1
 954              	.LVL96:
 955              	.L57:
 713:Src/usbd_iad.c **** 		}
 714:Src/usbd_iad.c **** 	} else {
 715:Src/usbd_iad.c **** 		return USBD_FAIL;
 716:Src/usbd_iad.c **** 	}
 717:Src/usbd_iad.c **** }
 956              		.loc 1 717 1 view .LVU258
 957 000e 08BD     		pop	{r3, pc}
 958              	.LVL97:
 959              	.L64:
 704:Src/usbd_iad.c **** 
 960              		.loc 1 704 4 is_stmt 1 view .LVU259
 704:Src/usbd_iad.c **** 
 961              		.loc 1 704 23 is_stmt 0 view .LVU260
 962 0010 0123     		movs	r3, #1
 963 0012 D366     		str	r3, [r2, #108]
 707:Src/usbd_iad.c **** 					IAD_CDC2_IN_EP, hiad->cdc2.TxBuffer, hiad->cdc2.TxLength);
 964              		.loc 1 707 4 is_stmt 1 view .LVU261
 965 0014 936E     		ldr	r3, [r2, #104]
 966 0016 126E     		ldr	r2, [r2, #96]
 967              	.LVL98:
 707:Src/usbd_iad.c **** 					IAD_CDC2_IN_EP, hiad->cdc2.TxBuffer, hiad->cdc2.TxLength);
 968              		.loc 1 707 4 is_stmt 0 view .LVU262
 969 0018 8321     		movs	r1, #131
 970 001a FFF7FEFF 		bl	USBD_LL_Transmit
 971              	.LVL99:
 710:Src/usbd_iad.c **** 		} else {
 972              		.loc 1 710 4 is_stmt 1 view .LVU263
 710:Src/usbd_iad.c **** 		} else {
 973              		.loc 1 710 11 is_stmt 0 view .LVU264
 974 001e 0020     		movs	r0, #0
 975 0020 F5E7     		b	.L57
 976              	.LVL100:
 977              	.L58:
 978              	.LCFI8:
 979              		.cfi_def_cfa_offset 0
 980              		.cfi_restore 3
 981              		.cfi_restore 14
 715:Src/usbd_iad.c **** 	}
 982              		.loc 1 715 10 view .LVU265
 983 0022 0320     		movs	r0, #3
 984              	.LVL101:
 985              		.loc 1 717 1 view .LVU266
 986 0024 7047     		bx	lr
 987              		.cfi_endproc
 988              	.LFE160:
 990              		.section	.text.USBD_IAD_CDC1_ReceivePacket,"ax",%progbits
ARM GAS  /tmp/cc1oW4tv.s 			page 33


 991              		.align	1
 992              		.global	USBD_IAD_CDC1_ReceivePacket
 993              		.syntax unified
 994              		.thumb
 995              		.thumb_func
 996              		.fpu fpv5-d16
 998              	USBD_IAD_CDC1_ReceivePacket:
 999              	.LVL102:
 1000              	.LFB161:
 718:Src/usbd_iad.c **** 
 719:Src/usbd_iad.c **** /**
 720:Src/usbd_iad.c ****  * @brief  USBD_IAD_ReceivePacket
 721:Src/usbd_iad.c ****  *         prepare OUT Endpoint for reception
 722:Src/usbd_iad.c ****  * @param  pdev: device instance
 723:Src/usbd_iad.c ****  * @retval status
 724:Src/usbd_iad.c ****  */
 725:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC1_ReceivePacket(USBD_HandleTypeDef *pdev) {
 1001              		.loc 1 725 63 is_stmt 1 view -0
 1002              		.cfi_startproc
 1003              		@ args = 0, pretend = 0, frame = 0
 1004              		@ frame_needed = 0, uses_anonymous_args = 0
 726:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 1005              		.loc 1 726 2 view .LVU268
 1006              		.loc 1 726 26 is_stmt 0 view .LVU269
 1007 0000 D0F8BC22 		ldr	r2, [r0, #700]
 1008              	.LVL103:
 727:Src/usbd_iad.c **** 
 728:Src/usbd_iad.c **** 	/* Suspend or Resume USB Out process */
 729:Src/usbd_iad.c **** 	if (pdev->pClassData != NULL) {
 1009              		.loc 1 729 2 is_stmt 1 view .LVU270
 1010              		.loc 1 729 5 is_stmt 0 view .LVU271
 1011 0004 82B1     		cbz	r2, .L69
 725:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 1012              		.loc 1 725 63 view .LVU272
 1013 0006 08B5     		push	{r3, lr}
 1014              	.LCFI9:
 1015              		.cfi_def_cfa_offset 8
 1016              		.cfi_offset 3, -8
 1017              		.cfi_offset 14, -4
 730:Src/usbd_iad.c **** 		if (pdev->dev_speed == USBD_SPEED_HIGH) {
 1018              		.loc 1 730 3 is_stmt 1 view .LVU273
 1019              		.loc 1 730 11 is_stmt 0 view .LVU274
 1020 0008 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 1021              		.loc 1 730 6 view .LVU275
 1022 000a 3BB9     		cbnz	r3, .L67
 731:Src/usbd_iad.c **** 			/* Prepare Out endpoint to receive next packet */
 732:Src/usbd_iad.c **** 			USBD_LL_PrepareReceive(pdev,
 1023              		.loc 1 732 4 is_stmt 1 view .LVU276
 1024 000c 4FF40073 		mov	r3, #512
 1025 0010 526C     		ldr	r2, [r2, #68]
 1026              	.LVL104:
 1027              		.loc 1 732 4 is_stmt 0 view .LVU277
 1028 0012 0121     		movs	r1, #1
 1029 0014 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1030              	.LVL105:
 1031              	.L68:
 733:Src/usbd_iad.c **** 				IAD_CDC1_OUT_EP, hiad->cdc1.RxBuffer,
ARM GAS  /tmp/cc1oW4tv.s 			page 34


 734:Src/usbd_iad.c **** 				IAD_DATA_HS_OUT_PACKET_SIZE);
 735:Src/usbd_iad.c **** 		} else {
 736:Src/usbd_iad.c **** 			/* Prepare Out endpoint to receive next packet */
 737:Src/usbd_iad.c **** 			USBD_LL_PrepareReceive(pdev,
 738:Src/usbd_iad.c **** 				IAD_CDC1_OUT_EP, hiad->cdc1.RxBuffer,
 739:Src/usbd_iad.c **** 				IAD_DATA_FS_OUT_PACKET_SIZE);
 740:Src/usbd_iad.c **** 		}
 741:Src/usbd_iad.c **** 		return USBD_OK;
 1032              		.loc 1 741 3 is_stmt 1 view .LVU278
 1033              		.loc 1 741 10 is_stmt 0 view .LVU279
 1034 0018 0020     		movs	r0, #0
 742:Src/usbd_iad.c **** 	} else {
 743:Src/usbd_iad.c **** 		return USBD_FAIL;
 744:Src/usbd_iad.c **** 	}
 745:Src/usbd_iad.c **** }
 1035              		.loc 1 745 1 view .LVU280
 1036 001a 08BD     		pop	{r3, pc}
 1037              	.LVL106:
 1038              	.L67:
 737:Src/usbd_iad.c **** 				IAD_CDC1_OUT_EP, hiad->cdc1.RxBuffer,
 1039              		.loc 1 737 4 is_stmt 1 view .LVU281
 1040 001c 4023     		movs	r3, #64
 1041 001e 526C     		ldr	r2, [r2, #68]
 1042              	.LVL107:
 737:Src/usbd_iad.c **** 				IAD_CDC1_OUT_EP, hiad->cdc1.RxBuffer,
 1043              		.loc 1 737 4 is_stmt 0 view .LVU282
 1044 0020 0121     		movs	r1, #1
 1045 0022 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1046              	.LVL108:
 737:Src/usbd_iad.c **** 				IAD_CDC1_OUT_EP, hiad->cdc1.RxBuffer,
 1047              		.loc 1 737 4 view .LVU283
 1048 0026 F7E7     		b	.L68
 1049              	.LVL109:
 1050              	.L69:
 1051              	.LCFI10:
 1052              		.cfi_def_cfa_offset 0
 1053              		.cfi_restore 3
 1054              		.cfi_restore 14
 743:Src/usbd_iad.c **** 	}
 1055              		.loc 1 743 10 view .LVU284
 1056 0028 0320     		movs	r0, #3
 1057              	.LVL110:
 1058              		.loc 1 745 1 view .LVU285
 1059 002a 7047     		bx	lr
 1060              		.cfi_endproc
 1061              	.LFE161:
 1063              		.section	.text.USBD_IAD_CDC2_ReceivePacket,"ax",%progbits
 1064              		.align	1
 1065              		.global	USBD_IAD_CDC2_ReceivePacket
 1066              		.syntax unified
 1067              		.thumb
 1068              		.thumb_func
 1069              		.fpu fpv5-d16
 1071              	USBD_IAD_CDC2_ReceivePacket:
 1072              	.LVL111:
 1073              	.LFB162:
 746:Src/usbd_iad.c **** 
ARM GAS  /tmp/cc1oW4tv.s 			page 35


 747:Src/usbd_iad.c **** /**
 748:Src/usbd_iad.c ****  * @brief  USBD_IAD_ReceivePacket
 749:Src/usbd_iad.c ****  *         prepare OUT Endpoint for reception
 750:Src/usbd_iad.c ****  * @param  pdev: device instance
 751:Src/usbd_iad.c ****  * @retval status
 752:Src/usbd_iad.c ****  */
 753:Src/usbd_iad.c **** uint8_t USBD_IAD_CDC2_ReceivePacket(USBD_HandleTypeDef *pdev) {
 1074              		.loc 1 753 63 is_stmt 1 view -0
 1075              		.cfi_startproc
 1076              		@ args = 0, pretend = 0, frame = 0
 1077              		@ frame_needed = 0, uses_anonymous_args = 0
 754:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 1078              		.loc 1 754 2 view .LVU287
 1079              		.loc 1 754 26 is_stmt 0 view .LVU288
 1080 0000 D0F8BC22 		ldr	r2, [r0, #700]
 1081              	.LVL112:
 755:Src/usbd_iad.c **** 
 756:Src/usbd_iad.c **** 	/* Suspend or Resume USB Out process */
 757:Src/usbd_iad.c **** 	if (pdev->pClassData != NULL) {
 1082              		.loc 1 757 2 is_stmt 1 view .LVU289
 1083              		.loc 1 757 5 is_stmt 0 view .LVU290
 1084 0004 82B1     		cbz	r2, .L78
 753:Src/usbd_iad.c **** 	USBD_IAD_HandleTypeDef *hiad = (USBD_IAD_HandleTypeDef*) pdev->pClassData;
 1085              		.loc 1 753 63 view .LVU291
 1086 0006 08B5     		push	{r3, lr}
 1087              	.LCFI11:
 1088              		.cfi_def_cfa_offset 8
 1089              		.cfi_offset 3, -8
 1090              		.cfi_offset 14, -4
 758:Src/usbd_iad.c **** 		if (pdev->dev_speed == USBD_SPEED_HIGH) {
 1091              		.loc 1 758 3 is_stmt 1 view .LVU292
 1092              		.loc 1 758 11 is_stmt 0 view .LVU293
 1093 0008 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 1094              		.loc 1 758 6 view .LVU294
 1095 000a 3BB9     		cbnz	r3, .L76
 759:Src/usbd_iad.c **** 			/* Prepare Out endpoint to receive next packet */
 760:Src/usbd_iad.c **** 			USBD_LL_PrepareReceive(pdev,
 1096              		.loc 1 760 4 is_stmt 1 view .LVU295
 1097 000c 4FF40073 		mov	r3, #512
 1098 0010 D26D     		ldr	r2, [r2, #92]
 1099              	.LVL113:
 1100              		.loc 1 760 4 is_stmt 0 view .LVU296
 1101 0012 0321     		movs	r1, #3
 1102 0014 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1103              	.LVL114:
 1104              	.L77:
 761:Src/usbd_iad.c **** 				IAD_CDC2_OUT_EP, hiad->cdc2.RxBuffer,
 762:Src/usbd_iad.c **** 				IAD_DATA_HS_OUT_PACKET_SIZE);
 763:Src/usbd_iad.c **** 		} else {
 764:Src/usbd_iad.c **** 			/* Prepare Out endpoint to receive next packet */
 765:Src/usbd_iad.c **** 			USBD_LL_PrepareReceive(pdev,
 766:Src/usbd_iad.c **** 				IAD_CDC2_OUT_EP, hiad->cdc2.RxBuffer,
 767:Src/usbd_iad.c **** 				IAD_DATA_FS_OUT_PACKET_SIZE);
 768:Src/usbd_iad.c **** 		}
 769:Src/usbd_iad.c **** 		return USBD_OK;
 1105              		.loc 1 769 3 is_stmt 1 view .LVU297
 1106              		.loc 1 769 10 is_stmt 0 view .LVU298
ARM GAS  /tmp/cc1oW4tv.s 			page 36


 1107 0018 0020     		movs	r0, #0
 770:Src/usbd_iad.c **** 	} else {
 771:Src/usbd_iad.c **** 		return USBD_FAIL;
 772:Src/usbd_iad.c **** 	}
 773:Src/usbd_iad.c **** }
 1108              		.loc 1 773 1 view .LVU299
 1109 001a 08BD     		pop	{r3, pc}
 1110              	.LVL115:
 1111              	.L76:
 765:Src/usbd_iad.c **** 				IAD_CDC2_OUT_EP, hiad->cdc2.RxBuffer,
 1112              		.loc 1 765 4 is_stmt 1 view .LVU300
 1113 001c 4023     		movs	r3, #64
 1114 001e D26D     		ldr	r2, [r2, #92]
 1115              	.LVL116:
 765:Src/usbd_iad.c **** 				IAD_CDC2_OUT_EP, hiad->cdc2.RxBuffer,
 1116              		.loc 1 765 4 is_stmt 0 view .LVU301
 1117 0020 0321     		movs	r1, #3
 1118 0022 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1119              	.LVL117:
 765:Src/usbd_iad.c **** 				IAD_CDC2_OUT_EP, hiad->cdc2.RxBuffer,
 1120              		.loc 1 765 4 view .LVU302
 1121 0026 F7E7     		b	.L77
 1122              	.LVL118:
 1123              	.L78:
 1124              	.LCFI12:
 1125              		.cfi_def_cfa_offset 0
 1126              		.cfi_restore 3
 1127              		.cfi_restore 14
 771:Src/usbd_iad.c **** 	}
 1128              		.loc 1 771 10 view .LVU303
 1129 0028 0320     		movs	r0, #3
 1130              	.LVL119:
 1131              		.loc 1 773 1 view .LVU304
 1132 002a 7047     		bx	lr
 1133              		.cfi_endproc
 1134              	.LFE162:
 1136              		.global	USBD_IAD_CfgFSDesc
 1137              		.global	USBD_IAD
 1138              		.section	.bss.ifalt.10627,"aw",%nobits
 1139              		.set	.LANCHOR2,. + 0
 1142              	ifalt.10627:
 1143 0000 00       		.space	1
 1144              		.section	.data.USBD_IAD,"aw"
 1145              		.align	2
 1148              	USBD_IAD:
 1149 0000 00000000 		.word	USBD_IAD_Init
 1150 0004 00000000 		.word	USBD_IAD_DeInit
 1151 0008 00000000 		.word	USBD_IAD_Setup
 1152 000c 00000000 		.word	0
 1153 0010 00000000 		.word	USBD_IAD_EP0_RxReady
 1154 0014 00000000 		.word	USBD_IAD_DataIn
 1155 0018 00000000 		.word	USBD_IAD_DataOut
 1156 001c 00000000 		.word	0
 1157 0020 00000000 		.word	0
 1158 0024 00000000 		.word	0
 1159 0028 00000000 		.word	USBD_IAD_GetFSCfgDesc
 1160 002c 00000000 		.word	USBD_IAD_GetFSCfgDesc
ARM GAS  /tmp/cc1oW4tv.s 			page 37


 1161 0030 00000000 		.word	USBD_IAD_GetOtherSpeedCfgDesc
 1162 0034 00000000 		.word	USBD_IAD_GetDeviceQualifierDescriptor
 1163              		.section	.data.USBD_IAD_CfgFSDesc,"aw"
 1164              		.align	2
 1165              		.set	.LANCHOR0,. + 0
 1168              	USBD_IAD_CfgFSDesc:
 1169 0000 09028D00 		.ascii	"\011\002\215\000\004\001\000\3002\010\013\000\002\002"
 1169      040100C0 
 1169      32080B00 
 1169      0202
 1170 000e 02010209 		.ascii	"\002\001\002\011\004\000\000\001\002\002\001\000\005"
 1170      04000001 
 1170      02020100 
 1170      05
 1171 001b 24001001 		.ascii	"$\000\020\001\005$\001\000\001\004$\002\002\005$\006"
 1171      05240100 
 1171      01042402 
 1171      02052406 
 1172 002b 00010705 		.ascii	"\000\001\007\005\202\003\010\000\377\011\004\001\000"
 1172      82030800 
 1172      FF090401 
 1172      00
 1173 0038 020A0000 		.ascii	"\002\012\000\000\000\007\005\001\002@\000\000\007\005"
 1173      00070501 
 1173      02400000 
 1173      0705
 1174 0046 81024000 		.ascii	"\201\002@\000\000\010\013\002\002\002\002\001\002\011"
 1174      00080B02 
 1174      02020201 
 1174      0209
 1175 0054 04020001 		.ascii	"\004\002\000\001\002\002\001\000\005$\000\020\001\005"
 1175      02020100 
 1175      05240010 
 1175      0105
 1176 0062 24010003 		.ascii	"$\001\000\003\004$\002\002\005$\006\002\003\007\005"
 1176      04240202 
 1176      05240602 
 1176      030705
 1177 0071 84030800 		.ascii	"\204\003\010\000\377\011\004\003\000\002\012\000\000"
 1177      FF090403 
 1177      00020A00 
 1177      00
 1178 007e 00070503 		.ascii	"\000\007\005\003\002@\000\000\007\005\203\002@\000\000"
 1178      02400000 
 1178      07058302 
 1178      400000
 1179              		.section	.data.USBD_IAD_DeviceQualifierDesc,"aw"
 1180              		.align	2
 1181              		.set	.LANCHOR1,. + 0
 1184              	USBD_IAD_DeviceQualifierDesc:
 1185 0000 0A060002 		.ascii	"\012\006\000\002\000\000\000@\001\000"
 1185      00000040 
 1185      0100
 1186              		.text
 1187              	.Letext0:
 1188              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1189              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
ARM GAS  /tmp/cc1oW4tv.s 			page 38


 1190              		.file 4 "/usr/include/newlib/sys/_types.h"
 1191              		.file 5 "/usr/include/newlib/sys/reent.h"
 1192              		.file 6 "/usr/include/newlib/sys/lock.h"
 1193              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 1194              		.file 8 "/usr/include/newlib/stdlib.h"
 1195              		.file 9 "Drivers/CMSIS/Include/core_cm7.h"
 1196              		.file 10 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 1197              		.file 11 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 1198              		.file 12 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 1199              		.file 13 "Inc/usbd_iad.h"
 1200              		.file 14 "Inc/usbd_desc.h"
 1201              		.file 15 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_core.h"
 1202              		.file 16 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ioreq.h"
ARM GAS  /tmp/cc1oW4tv.s 			page 39


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_iad.c
     /tmp/cc1oW4tv.s:17     .text.USBD_IAD_DataIn:0000000000000000 $t
     /tmp/cc1oW4tv.s:24     .text.USBD_IAD_DataIn:0000000000000000 USBD_IAD_DataIn
     /tmp/cc1oW4tv.s:74     .text.USBD_IAD_EP0_RxReady:0000000000000000 $t
     /tmp/cc1oW4tv.s:80     .text.USBD_IAD_EP0_RxReady:0000000000000000 USBD_IAD_EP0_RxReady
     /tmp/cc1oW4tv.s:130    .text.USBD_IAD_GetFSCfgDesc:0000000000000000 $t
     /tmp/cc1oW4tv.s:136    .text.USBD_IAD_GetFSCfgDesc:0000000000000000 USBD_IAD_GetFSCfgDesc
     /tmp/cc1oW4tv.s:157    .text.USBD_IAD_GetFSCfgDesc:0000000000000008 $d
     /tmp/cc1oW4tv.s:162    .text.USBD_IAD_GetOtherSpeedCfgDesc:0000000000000000 $t
     /tmp/cc1oW4tv.s:168    .text.USBD_IAD_GetOtherSpeedCfgDesc:0000000000000000 USBD_IAD_GetOtherSpeedCfgDesc
     /tmp/cc1oW4tv.s:189    .text.USBD_IAD_GetOtherSpeedCfgDesc:0000000000000008 $d
     /tmp/cc1oW4tv.s:194    .text.USBD_IAD_GetDeviceQualifierDescriptor:0000000000000000 $t
     /tmp/cc1oW4tv.s:201    .text.USBD_IAD_GetDeviceQualifierDescriptor:0000000000000000 USBD_IAD_GetDeviceQualifierDescriptor
     /tmp/cc1oW4tv.s:222    .text.USBD_IAD_GetDeviceQualifierDescriptor:0000000000000008 $d
     /tmp/cc1oW4tv.s:227    .text.USBD_IAD_DataOut:0000000000000000 $t
     /tmp/cc1oW4tv.s:233    .text.USBD_IAD_DataOut:0000000000000000 USBD_IAD_DataOut
     /tmp/cc1oW4tv.s:322    .text.USBD_IAD_Setup:0000000000000000 $t
     /tmp/cc1oW4tv.s:328    .text.USBD_IAD_Setup:0000000000000000 USBD_IAD_Setup
     /tmp/cc1oW4tv.s:452    .text.USBD_IAD_Setup:0000000000000070 $d
     /tmp/cc1oW4tv.s:457    .text.USBD_IAD_DeInit:0000000000000000 $t
     /tmp/cc1oW4tv.s:463    .text.USBD_IAD_DeInit:0000000000000000 USBD_IAD_DeInit
     /tmp/cc1oW4tv.s:541    .text.USBD_IAD_Init:0000000000000000 $t
     /tmp/cc1oW4tv.s:547    .text.USBD_IAD_Init:0000000000000000 USBD_IAD_Init
     /tmp/cc1oW4tv.s:674    .text.USBD_IAD_RegisterInterface:0000000000000000 $t
     /tmp/cc1oW4tv.s:681    .text.USBD_IAD_RegisterInterface:0000000000000000 USBD_IAD_RegisterInterface
     /tmp/cc1oW4tv.s:715    .text.USBD_IAD_CDC1_SetTxBuffer:0000000000000000 $t
     /tmp/cc1oW4tv.s:722    .text.USBD_IAD_CDC1_SetTxBuffer:0000000000000000 USBD_IAD_CDC1_SetTxBuffer
     /tmp/cc1oW4tv.s:750    .text.USBD_IAD_CDC2_SetTxBuffer:0000000000000000 $t
     /tmp/cc1oW4tv.s:757    .text.USBD_IAD_CDC2_SetTxBuffer:0000000000000000 USBD_IAD_CDC2_SetTxBuffer
     /tmp/cc1oW4tv.s:785    .text.USBD_IAD_CDC1_SetRxBuffer:0000000000000000 $t
     /tmp/cc1oW4tv.s:792    .text.USBD_IAD_CDC1_SetRxBuffer:0000000000000000 USBD_IAD_CDC1_SetRxBuffer
     /tmp/cc1oW4tv.s:817    .text.USBD_IAD_CDC2_SetRxBuffer:0000000000000000 $t
     /tmp/cc1oW4tv.s:824    .text.USBD_IAD_CDC2_SetRxBuffer:0000000000000000 USBD_IAD_CDC2_SetRxBuffer
     /tmp/cc1oW4tv.s:849    .text.USBD_IAD_CDC1_TransmitPacket:0000000000000000 $t
     /tmp/cc1oW4tv.s:856    .text.USBD_IAD_CDC1_TransmitPacket:0000000000000000 USBD_IAD_CDC1_TransmitPacket
     /tmp/cc1oW4tv.s:920    .text.USBD_IAD_CDC2_TransmitPacket:0000000000000000 $t
     /tmp/cc1oW4tv.s:927    .text.USBD_IAD_CDC2_TransmitPacket:0000000000000000 USBD_IAD_CDC2_TransmitPacket
     /tmp/cc1oW4tv.s:991    .text.USBD_IAD_CDC1_ReceivePacket:0000000000000000 $t
     /tmp/cc1oW4tv.s:998    .text.USBD_IAD_CDC1_ReceivePacket:0000000000000000 USBD_IAD_CDC1_ReceivePacket
     /tmp/cc1oW4tv.s:1064   .text.USBD_IAD_CDC2_ReceivePacket:0000000000000000 $t
     /tmp/cc1oW4tv.s:1071   .text.USBD_IAD_CDC2_ReceivePacket:0000000000000000 USBD_IAD_CDC2_ReceivePacket
     /tmp/cc1oW4tv.s:1168   .data.USBD_IAD_CfgFSDesc:0000000000000000 USBD_IAD_CfgFSDesc
     /tmp/cc1oW4tv.s:1148   .data.USBD_IAD:0000000000000000 USBD_IAD
     /tmp/cc1oW4tv.s:1142   .bss.ifalt.10627:0000000000000000 ifalt.10627
     /tmp/cc1oW4tv.s:1143   .bss.ifalt.10627:0000000000000000 $d
     /tmp/cc1oW4tv.s:1145   .data.USBD_IAD:0000000000000000 $d
     /tmp/cc1oW4tv.s:1164   .data.USBD_IAD_CfgFSDesc:0000000000000000 $d
     /tmp/cc1oW4tv.s:1180   .data.USBD_IAD_DeviceQualifierDesc:0000000000000000 $d
     /tmp/cc1oW4tv.s:1184   .data.USBD_IAD_DeviceQualifierDesc:0000000000000000 USBD_IAD_DeviceQualifierDesc

UNDEFINED SYMBOLS
USBD_LL_GetRxDataSize
USBD_CtlSendData
USBD_CtlPrepareRx
USBD_LL_CloseEP
free
ARM GAS  /tmp/cc1oW4tv.s 			page 40


USBD_LL_OpenEP
malloc
USBD_LL_PrepareReceive
USBD_LL_Transmit
